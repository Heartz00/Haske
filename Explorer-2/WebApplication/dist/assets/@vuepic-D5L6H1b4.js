import{r as qa,a as U,d as Ve,u as $a,t as et,o as qe,n as da,b as tt,w as ha,c as H,e as A,f as F,g as Ge,h as ze,i as $e,j as he,k as le,l as Pe,m as He,p as d,q as Be,s as Ht,v as we,T as Oa,x as K,y as lt,z as Rl,A as ke,B as Pl,C as zt,D as pe,E as ce,F as De,G as be,H as Qe,I as Le,J as ca,K as Yl,L as Qa,M as Ua,N as Ol,O as Il}from"./@vue-CXKnfUZt.js";import{g as ge,a as Nl,b as ye,e as tl,d as Bl,f as la,i as La,c as Sa,h as Fa,s as Me,j as ll,k as Vl,l as Za,m as El,n as ta,o as nl,p as Ue,q as na,r as Ra,t as Da,u as qt,v as Ll,w as Fl,x as Hl,y as zl,z as Kt,A as rl,B as ol,C as Ct,D as St,E as Tt,F as Ha,G as jt,H as ql,I as ul,J as Kl,K as jl,L as Aa,M as Wl,N as il,O as Gl}from"./date-fns-CfkqNhwX.js";function Ia(){return A(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ce("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),ce("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ce("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),ce("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Ia.compatConfig={MODE:3};function sl(){return A(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ce("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),ce("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}sl.compatConfig={MODE:3};function Rt(){return A(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ce("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Rt.compatConfig={MODE:3};function Pt(){return A(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ce("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}Pt.compatConfig={MODE:3};function Yt(){return A(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ce("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),ce("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}Yt.compatConfig={MODE:3};function Ot(){return A(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ce("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}Ot.compatConfig={MODE:3};function It(){return A(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[ce("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}It.compatConfig={MODE:3};function Wt(e){return a=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${a}T00:00:00+00:00`)).slice(0,2)}function Jl(e){return a=>la(new Date(`2017-01-0${a}T00:00:00+00:00`),"EEEEEE",{locale:e})}const Xl=(e,a,o)=>{const l=[1,2,3,4,5,6,7];let t;if(e!==null)try{t=l.map(Jl(e))}catch{t=l.map(Wt(a))}else t=l.map(Wt(a));const v=t.slice(0,o),i=t.slice(o+1,t.length);return[t[o]].concat(...i).concat(...v)},Nt=(e,a,o)=>{const l=[];for(let t=+e[0];t<=+e[1];t++)l.push({value:+t,text:pl(t,a)});return o?l.reverse():l},dl=(e,a,o)=>{const l=[1,2,3,4,5,6,7,8,9,10,11,12].map(v=>{const i=v<10?`0${v}`:v;return new Date(`2017-${i}-01T00:00:00+00:00`)});if(e!==null)try{const v=o==="long"?"MMMM":"MMM";return l.map((i,c)=>{const C=la(i,v,{locale:e});return{text:C.charAt(0).toUpperCase()+C.substring(1),value:c}})}catch{}const t=new Intl.DateTimeFormat(a,{month:o,timeZone:"UTC"});return l.map((v,i)=>{const c=t.format(v);return{text:c.charAt(0).toUpperCase()+c.substring(1),value:i}})},Ql=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],Oe=e=>{const a=d(e);return a!=null&&a.$el?a==null?void 0:a.$el:a},Ul=e=>({type:"dot",...e??{}}),cl=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Bt={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ne=e=>e,Gt=e=>e===0?e:!e||isNaN(+e)?null:+e,Jt=e=>e===null,vl=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},Zl=e=>{const a=[],o=l=>l.filter(t=>t);for(let l=0;l<e.length;l+=3){const t=[e[l],e[l+1],e[l+2]];a.push(o(t))}return a},za=(e,a,o)=>{const l=o!=null,t=a!=null;if(!l&&!t)return!1;const v=+o,i=+a;return l&&t?+e>v||+e<i:l?+e>v:t?+e<i:!1},Pa=(e,a)=>Zl(e).map(o=>o.map(l=>{const{active:t,disabled:v,isBetween:i,highlighted:c}=a(l);return{...l,active:t,disabled:v,className:{dp__overlay_cell_active:t,dp__overlay_cell:!t,dp__overlay_cell_disabled:v,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:v&&t,dp__cell_in_between:i,"dp--highlighted":c}}})),ya=(e,a,o=!1)=>{e&&a.allowStopPropagation&&(o&&e.stopImmediatePropagation(),e.stopPropagation())},en=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function an(e,a){let o=[...document.querySelectorAll(en())];o=o.filter(t=>!e.contains(t)||t.hasAttribute("data-datepicker-instance"));const l=o.indexOf(e);if(l>=0&&(a?l-1>=0:l+1<=o.length))return o[l+(a?-1:1)]}const tn=(e,a)=>e==null?void 0:e.querySelector(`[data-dp-element="${a}"]`),pl=(e,a)=>new Intl.NumberFormat(a,{useGrouping:!1,style:"decimal"}).format(e),Vt=e=>la(e,"dd-MM-yyyy"),yt=e=>Array.isArray(e),at=(e,a)=>a.get(Vt(e)),ln=(e,a)=>e?a?a instanceof Map?!!at(e,a):a(N(e)):!1:!0,Xt=(e,a,o,l,t,v)=>{const i=Tt(e,a.slice(0,e.length),new Date,{locale:v});return Za(i)&&Wl(i)?l||t?i:Me(i,{hours:+o.hours,minutes:+(o==null?void 0:o.minutes),seconds:+(o==null?void 0:o.seconds),milliseconds:0}):null},nn=(e,a,o,l,t,v)=>{const i=Array.isArray(o)?o[0]:o;if(typeof a=="string")return Xt(e,a,i,l,t,v);if(Array.isArray(a)){let c=null;for(const C of a)if(c=Xt(e,C,i,l,t,v),c)break;return c}return typeof a=="function"?a(e):null},N=e=>e?new Date(e):new Date,rn=(e,a,o)=>{if(a){const t=(e.getMonth()+1).toString().padStart(2,"0"),v=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),c=e.getMinutes().toString().padStart(2,"0"),C=o?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${t}-${v}T${i}:${c}:${C}.000Z`}const l=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(l).toISOString()},je=e=>{let a=N(JSON.parse(JSON.stringify(e)));return a=rl(a,0),a=ol(a,0),a=Ct(a,0),a=St(a,0),a},fa=(e,a,o,l)=>{let t=e?N(e):N();return(a||a===0)&&(t=rl(t,+a)),(o||o===0)&&(t=ol(t,+o)),(l||l===0)&&(t=Ct(t,+l)),St(t,0)},Ce=(e,a)=>!e||!a?!1:La(je(e),je(a)),_e=(e,a)=>!e||!a?!1:Sa(je(e),je(a)),Re=(e,a)=>!e||!a?!1:Fa(je(e),je(a)),nt=(e,a,o)=>e!=null&&e[0]&&e!=null&&e[1]?Re(o,e[0])&&Ce(o,e[1]):e!=null&&e[0]&&a?Re(o,e[0])&&Ce(o,a)||Ce(o,e[0])&&Re(o,a):!1,Xe=e=>{const a=Me(new Date(e),{date:1});return je(a)},ft=(e,a,o)=>a&&(o||o===0)?Object.fromEntries(["hours","minutes","seconds"].map(l=>l===a?[l,o]:[l,isNaN(+e[l])?void 0:+e[l]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},Ma=e=>({hours:Ue(e),minutes:na(e),seconds:Ra(e)}),ml=(e,a)=>{if(a){const o=ye(N(a));if(o>e)return 12;if(o===e)return ge(N(a))}},yl=(e,a)=>{if(a){const o=ye(N(a));return o<e?-1:o===e?ge(N(a)):void 0}},Ya=e=>{if(e)return ye(N(e))},fl=(e,a)=>{const o=Re(e,a)?a:e,l=Re(a,e)?a:e;return tl({start:o,end:l})},on=e=>{const a=Da(e,1);return{month:ge(a),year:ye(a)}},ua=(e,a)=>{const o=ll(e,{weekStartsOn:+a}),l=Vl(e,{weekStartsOn:+a});return[o,l]},hl=(e,a)=>{const o={hours:Ue(N()),minutes:na(N()),seconds:a?Ra(N()):0};return Object.assign(o,e)},ma=(e,a,o)=>[Me(N(e),{date:1}),Me(N(),{month:a,year:o,date:1})],ia=(e,a,o)=>{let l=e?N(e):N();return(a||a===0)&&(l=ql(l,a)),o&&(l=ta(l,o)),l},gl=(e,a,o,l,t)=>{if(!l||t&&!a||!t&&!o)return!1;const v=t?Da(e,1):Ha(e,1),i=[ge(v),ye(v)];return t?!sn(...i,a):!un(...i,o)},un=(e,a,o)=>Ce(...ma(o,e,a))||_e(...ma(o,e,a)),sn=(e,a,o)=>Re(...ma(o,e,a))||_e(...ma(o,e,a)),bl=(e,a,o,l,t,v,i)=>{if(typeof a=="function"&&!i)return a(e);const c=o?{locale:o}:void 0;return Array.isArray(e)?`${la(e[0],v,c)}${t&&!e[1]?"":l}${e[1]?la(e[1],v,c):""}`:la(e,v,c)},xa=e=>{if(e)return null;throw new Error(Bt.prop("partial-range"))},Ja=(e,a)=>{if(a)return e();throw new Error(Bt.prop("range"))},$t=e=>Array.isArray(e)?Za(e[0])&&(e[1]?Za(e[1]):!0):e?Za(e):!1,dn=(e,a)=>Me(a??N(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),ht=(e,a,o,l)=>{if(!e)return!0;if(l){const t=o==="max"?La(e,a):Fa(e,a),v={seconds:0,milliseconds:0};return t||Sa(Me(e,v),Me(a,v))}return o==="max"?e.getTime()<=a.getTime():e.getTime()>=a.getTime()},gt=(e,a,o)=>e?dn(e,a):N(o??a),Qt=(e,a,o,l,t)=>{if(Array.isArray(l)){const i=gt(e,l[0],a),c=gt(e,l[1],a);return ht(l[0],i,o,!!a)&&ht(l[1],c,o,!!a)&&t}const v=gt(e,l,a);return ht(l,v,o,!!a)&&t},bt=e=>Me(N(),Ma(e)),cn=(e,a)=>e instanceof Map?Array.from(e.values()).filter(o=>ye(N(o))===a).map(o=>ge(o)):[],_l=(e,a,o)=>typeof e=="function"?e({month:a,year:o}):!!e.months.find(l=>l.month===a&&l.year===o),Et=(e,a)=>typeof e=="function"?e(a):e.years.includes(a),Va=qa({menuFocused:!1,shiftKeyInMenu:!1}),wl=()=>{const e=o=>{Va.menuFocused=o},a=o=>{Va.shiftKeyInMenu!==o&&(Va.shiftKeyInMenu=o)};return{control:H(()=>({shiftKeyInMenu:Va.shiftKeyInMenu,menuFocused:Va.menuFocused})),setMenuFocused:e,setShiftKey:a}},Te=qa({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),_t=U(null),Xa=U(!1),wt=U(!1),kt=U(!1),At=U(!1),Ee=U(0),Se=U(0),ga=()=>{const e=H(()=>Xa.value?[...Te.selectionGrid,Te.actionRow].filter(p=>p.length):wt.value?[...Te.timePicker[0],...Te.timePicker[1],At.value?[]:[_t.value],Te.actionRow].filter(p=>p.length):kt.value?[...Te.monthPicker,Te.actionRow]:[Te.monthYear,...Te.calendar,Te.time,Te.actionRow].filter(p=>p.length)),a=p=>{Ee.value=p?Ee.value+1:Ee.value-1;let b=null;e.value[Se.value]&&(b=e.value[Se.value][Ee.value]),!b&&e.value[Se.value+(p?1:-1)]?(Se.value=Se.value+(p?1:-1),Ee.value=p?0:e.value[Se.value].length-1):b||(Ee.value=p?Ee.value-1:Ee.value+1)},o=p=>{Se.value===0&&!p||Se.value===e.value.length&&p||(Se.value=p?Se.value+1:Se.value-1,e.value[Se.value]?e.value[Se.value]&&!e.value[Se.value][Ee.value]&&Ee.value!==0&&(Ee.value=e.value[Se.value].length-1):Se.value=p?Se.value-1:Se.value+1)},l=p=>{let b=null;e.value[Se.value]&&(b=e.value[Se.value][Ee.value]),b?b.focus({preventScroll:!Xa.value}):Ee.value=p?Ee.value-1:Ee.value+1},t=()=>{a(!0),l(!0)},v=()=>{a(!1),l(!1)},i=()=>{o(!1),l(!0)},c=()=>{o(!0),l(!0)},C=(p,b)=>{Te[b]=p},T=(p,b)=>{Te[b]=p},g=()=>{Ee.value=0,Se.value=0};return{buildMatrix:C,buildMultiLevelMatrix:T,setTimePickerBackRef:p=>{_t.value=p},setSelectionGrid:p=>{Xa.value=p,g(),p||(Te.selectionGrid=[])},setTimePicker:(p,b=!1)=>{wt.value=p,At.value=b,g(),p||(Te.timePicker[0]=[],Te.timePicker[1]=[])},setTimePickerElements:(p,b=0)=>{Te.timePicker[b]=p},arrowRight:t,arrowLeft:v,arrowUp:i,arrowDown:c,clearArrowNav:()=>{Te.monthYear=[],Te.calendar=[],Te.time=[],Te.actionRow=[],Te.selectionGrid=[],Te.timePicker[0]=[],Te.timePicker[1]=[],Xa.value=!1,wt.value=!1,At.value=!1,kt.value=!1,g(),_t.value=null},setMonthPicker:p=>{kt.value=p,g()},refSets:Te}},sa=(e,a)=>a?new Date(e.toLocaleString("en-US",{timeZone:a})):new Date(e),kl=(e,a)=>xt(e,a)||N(),vn=(e,a)=>a.dateInTz?sa(new Date(e),a.dateInTz):N(e),xt=(e,a)=>{if(!e)return null;if(!a)return N(e);const o=N(e);return a.exactMatch?vn(e,a):sa(o,a.timezone)},pn=e=>{if(!e)return 0;const a=new Date,o=new Date(a.toLocaleString("en-US",{timeZone:"UTC"})),l=new Date(a.toLocaleString("en-US",{timeZone:e})),t=l.getTimezoneOffset()/60;return(+o-+l)/(1e3*60*60)-t},Ut=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),mn=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:a=>`Increment ${a}`,decrementValue:a=>`Decrement ${a}`,openTpOverlay:a=>`Open ${a} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,...e??{}}),Zt=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,yn=e=>{const a=typeof e=="object"&&e,o={static:!0,solo:!1};if(!e)return{...o,count:Zt(!1)};const l=a?e:{},t=a?l.count??!0:e,v=Zt(t);return Object.assign(o,l,{count:v})},fn=(e,a,o)=>e||(typeof o=="string"?o:a),hn=e=>typeof e=="boolean"?e?Ut({}):!1:Ut(e),gn=e=>{const a={enterSubmit:!0,tabSubmit:!0,openMenu:!0,selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...a,...e??{},enabled:!0}:{...a,enabled:e}},bn=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),_n=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),wn=e=>{const a={input:!1};return typeof e=="object"?{...a,...e??{},enabled:!0}:{enabled:e,...a}},kn=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,...e??{}}),An=e=>{const a={dates:Array.isArray(e)?e.map(o=>N(o)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...a,...e??{}}},Dn=e=>typeof e=="object"?{type:(e==null?void 0:e.type)??"local",hideOnOffsetDates:(e==null?void 0:e.hideOnOffsetDates)??!1}:{type:e,hideOnOffsetDates:!1},Mn=(e,a)=>typeof e=="object"?{enabled:!0,...{noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1},...e}:{enabled:e,noDisabledRange:a.noDisabledRange,showLastInRange:a.showLastInRange,minMaxRawRange:a.minMaxRawRange,partialRange:a.partialRange,disableTimeRangeValidation:a.disableTimeRangeValidation,maxRange:a.maxRange,minRange:a.minRange,autoRange:a.autoRange,fixedStart:a.fixedStart,fixedEnd:a.fixedEnd},Tn=(e,a)=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:a,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:a??e.emitTimezone,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:a},Dt=(e,a)=>new Map(e.map(o=>{const l=kl(o,a);return[Vt(l),l]})),$n=(e,a)=>e.length?new Map(e.map(o=>{const l=kl(o.date,a);return[Vt(l),o]})):null,xn=(e,a,o,l,t,v,i)=>({minDate:xt(e,i),maxDate:xt(a,i),disabledDates:yt(o)?Dt(o,i):o,allowedDates:yt(l)?Dt(l,i):null,highlight:typeof t=="object"&&yt(t==null?void 0:t.dates)?Dt(t.dates,i):t,markers:$n(v,i)}),Cn=(e,a)=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:+a}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},xe=e=>{const a=()=>{const L=e.enableSeconds?":ss":"";return e.is24?`HH:mm${L}`:`hh:mm${L} aa`},o=()=>{var L;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?a():e.weekPicker?`${((L=j.value)==null?void 0:L.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${a()}`:"MM/dd/yyyy"},l=L=>hl(L,e.enableSeconds),t=()=>Y.value.enabled?e.startTime&&Array.isArray(e.startTime)?[l(e.startTime[0]),l(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?l(e.startTime):null,v=H(()=>yn(e.multiCalendars)),i=H(()=>t()),c=H(()=>mn(e.ariaLabels)),C=H(()=>bn(e.filters)),T=H(()=>hn(e.transitions)),g=H(()=>_n(e.actionRow)),p=H(()=>fn(e.previewFormat,e.format,o())),b=H(()=>gn(e.textInput)),P=H(()=>wn(e.inline)),D=H(()=>kn(e.config)),M=H(()=>An(e.highlight)),j=H(()=>Dn(e.weekNumbers)),X=H(()=>Tn(e.timezone,e.emitTimezone)),J=H(()=>Cn(e.multiDates,e.multiDatesLimit)),k=H(()=>xn(e.minDate,e.maxDate,e.disabledDates,e.allowedDates,M.value,e.markers,X.value)),Y=H(()=>Mn(e.range,{minMaxRawRange:!1,maxRange:e.maxRange,minRange:e.minRange,noDisabledRange:e.noDisabledRange,showLastInRange:e.showLastInRange,partialRange:e.partialRange,disableTimeRangeValidation:e.disableTimeRangeValidation,autoRange:e.autoRange,fixedStart:e.fixedStart,fixedEnd:e.fixedEnd}));return{defaultedTransitions:T,defaultedMultiCalendars:v,defaultedStartTime:i,defaultedAriaLabels:c,defaultedFilters:C,defaultedActionRow:g,defaultedPreviewFormat:p,defaultedTextInput:b,defaultedInline:P,defaultedConfig:D,defaultedHighlight:M,defaultedWeekNumbers:j,defaultedRange:Y,propDates:k,defaultedTz:X,defaultedMultiDates:J,getDefaultPattern:o,getDefaultStartTime:t}},Sn=(e,a,o)=>{const l=U(),{defaultedTextInput:t,defaultedRange:v,defaultedTz:i,defaultedMultiDates:c,getDefaultPattern:C}=xe(a),T=U(""),g=et(a,"format");ha(l,()=>{e("internal-model-change",l.value)},{deep:!0}),ha(g,()=>{$()});const p=r=>i.value.timezone&&i.value.convertModel?sa(r,i.value.timezone):r,b=r=>{if(i.value.timezone&&i.value.convertModel){const w=pn(i.value.timezone);return El(r,w)}return r},P=(r,w,R=!1)=>bl(r,a.format,a.formatLocale,t.value.rangeSeparator,a.modelAuto,w??C(),R),D=r=>r?a.modelType?te(r):{hours:Ue(r),minutes:na(r),seconds:a.enableSeconds?Ra(r):0}:null,M=r=>a.modelType?te(r):{month:ge(r),year:ye(r)},j=r=>Array.isArray(r)?c.value.enabled?r.map(w=>X(w,ta(N(),w))):Ja(()=>[ta(N(),r[0]),r[1]?ta(N(),r[1]):xa(v.value.partialRange)],v.value.enabled):ta(N(),+r),X=(r,w)=>(typeof r=="string"||typeof r=="number")&&a.modelType?q(r):w,J=r=>Array.isArray(r)?[X(r[0],fa(null,+r[0].hours,+r[0].minutes,r[0].seconds)),X(r[1],fa(null,+r[1].hours,+r[1].minutes,r[1].seconds))]:X(r,fa(null,r.hours,r.minutes,r.seconds)),k=r=>{const w=Me(N(),{date:1});return Array.isArray(r)?c.value.enabled?r.map(R=>X(R,ia(w,+R.month,+R.year))):Ja(()=>[X(r[0],ia(w,+r[0].month,+r[0].year)),X(r[1],r[1]?ia(w,+r[1].month,+r[1].year):xa(v.value.partialRange))],v.value.enabled):X(r,ia(w,+r.month,+r.year))},Y=r=>{if(Array.isArray(r))return r.map(w=>q(w));throw new Error(Bt.dateArr("multi-dates"))},L=r=>{if(Array.isArray(r)&&v.value.enabled){const w=r[0],R=r[1];return[N(Array.isArray(w)?w[0]:null),N(Array.isArray(R)?R[0]:null)]}return N(r[0])},I=r=>a.modelAuto?Array.isArray(r)?[q(r[0]),q(r[1])]:a.autoApply?[q(r)]:[q(r),null]:Array.isArray(r)?Ja(()=>r[1]?[q(r[0]),r[1]?q(r[1]):xa(v.value.partialRange)]:[q(r[0])],v.value.enabled):q(r),O=()=>{Array.isArray(l.value)&&v.value.enabled&&l.value.length===1&&l.value.push(xa(v.value.partialRange))},W=()=>{const r=l.value;return[te(r[0]),r[1]?te(r[1]):xa(v.value.partialRange)]},Z=()=>l.value[1]?W():te(Ne(l.value[0])),ae=()=>(l.value||[]).map(r=>te(r)),ne=()=>(O(),a.modelAuto?Z():c.value.enabled?ae():Array.isArray(l.value)?Ja(()=>W(),v.value.enabled):te(Ne(l.value))),S=r=>!r||Array.isArray(r)&&!r.length?null:a.timePicker?J(Ne(r)):a.monthPicker?k(Ne(r)):a.yearPicker?j(Ne(r)):c.value.enabled?Y(Ne(r)):a.weekPicker?L(Ne(r)):I(Ne(r)),B=r=>{const w=S(r);$t(Ne(w))?(l.value=Ne(w),$()):(l.value=null,T.value="")},ee=()=>{const r=w=>la(w,t.value.format);return`${r(l.value[0])} ${t.value.rangeSeparator} ${l.value[1]?r(l.value[1]):""}`},s=()=>o.value&&l.value?Array.isArray(l.value)?ee():la(l.value,t.value.format):P(l.value),u=()=>l.value?c.value.enabled?l.value.map(r=>P(r)).join("; "):t.value.enabled&&typeof t.value.format=="string"?s():P(l.value):"",$=()=>{!a.format||typeof a.format=="string"||t.value.enabled&&typeof t.value.format=="string"?T.value=u():T.value=a.format(l.value)},q=r=>{if(a.utc){const w=new Date(r);return a.utc==="preserve"?new Date(w.getTime()+w.getTimezoneOffset()*6e4):w}return a.modelType?a.modelType==="date"||a.modelType==="timestamp"?p(new Date(r)):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?p(Tt(r,C(),new Date)):p(Tt(r,a.modelType,new Date)):p(new Date(r))},te=r=>r?a.utc?rn(r,a.utc==="preserve",a.enableSeconds):a.modelType?a.modelType==="timestamp"?+b(r):a.modelType==="format"&&(typeof a.format=="string"||!a.format)?P(b(r)):P(b(r),a.modelType,!0):b(r):"",z=(r,w=!1)=>{if(e("update:model-value",r),i.value.emitTimezone&&w){const R=Array.isArray(r)?r.map(fe=>sa(Ne(fe),i.value.emitTimezone)):sa(Ne(r),i.value.emitTimezone);e("update:model-timezone-value",R)}},y=r=>Array.isArray(l.value)?c.value.enabled?l.value.map(w=>r(w)):[r(l.value[0]),l.value[1]?r(l.value[1]):xa(v.value.partialRange)]:r(Ne(l.value)),_=()=>{if(Array.isArray(l.value)){const r=ua(l.value[0],a.weekStart),w=l.value[1]?ua(l.value[1],a.weekStart):[];return[r.map(R=>N(R)),w.map(R=>N(R))]}return ua(l.value,a.weekStart).map(r=>N(r))},n=r=>z(Ne(y(r)));return{inputValue:T,internalModelValue:l,checkBeforeEmit:()=>l.value?v.value.enabled?v.value.partialRange?l.value.length>=1:l.value.length===2:!!l.value:!1,parseExternalModelValue:B,formatInputValue:$,emitModelValue:()=>($(),a.monthPicker?n(M):a.timePicker?n(D):a.yearPicker?n(ye):a.weekPicker?e("update:model-value",_()):z(ne(),!0))}},Rn=(e,a)=>{const{defaultedFilters:o,propDates:l}=xe(e),{validateMonthYearInRange:t}=ba(e),v=(g,p)=>{let b=g;return o.value.months.includes(ge(b))?(b=p?Da(g,1):Ha(g,1),v(b,p)):b},i=(g,p)=>{let b=g;return o.value.years.includes(ye(b))?(b=p?ul(g,1):il(g,1),i(b,p)):b},c=(g,p=!1)=>{const b=Me(N(),{month:e.month,year:e.year});let P=g?Da(b,1):Ha(b,1);e.disableYearSelect&&(P=ta(P,e.year));let D=ge(P),M=ye(P);o.value.months.includes(D)&&(P=v(P,g),D=ge(P),M=ye(P)),o.value.years.includes(M)&&(P=i(P,g),M=ye(P)),t(D,M,g,e.preventMinMaxNavigation)&&C(D,M,p)},C=(g,p,b)=>{a("update-month-year",{month:g,year:p,fromNav:b})},T=H(()=>g=>gl(Me(N(),{month:e.month,year:e.year}),l.value.maxDate,l.value.minDate,e.preventMinMaxNavigation,g));return{handleMonthYearChange:c,isDisabled:T,updateMonthYear:C}};var Ca=(e=>(e.center="center",e.left="left",e.right="right",e))(Ca||{}),Je=(e=>(e.month="month",e.year="year",e))(Je||{}),ka=(e=>(e.top="top",e.bottom="bottom",e))(ka||{}),Ta=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ta||{}),aa=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(aa||{});const Pn=({menuRef:e,menuRefInner:a,inputRef:o,pickerWrapperRef:l,inline:t,emit:v,props:i,slots:c})=>{const C=U({}),T=U(!1),g=U({top:"0",left:"0"}),p=U(!1),b=et(i,"teleportCenter");ha(b,()=>{g.value=JSON.parse(JSON.stringify({})),Y()});const P=s=>{if(i.teleport){const u=s.getBoundingClientRect();return{left:u.left+window.scrollX,top:u.top+window.scrollY}}return{top:0,left:0}},D=(s,u)=>{g.value.left=`${s+u-C.value.width}px`},M=s=>{g.value.left=`${s}px`},j=(s,u)=>{i.position===Ca.left&&M(s),i.position===Ca.right&&D(s,u),i.position===Ca.center&&(g.value.left=`${s+u/2-C.value.width/2}px`)},X=s=>{const{width:u,height:$}=s.getBoundingClientRect(),{top:q,left:te}=i.altPosition?i.altPosition(s):P(s);return{top:+q,left:+te,width:u,height:$}},J=()=>{g.value.left="50%",g.value.top="50%",g.value.transform="translate(-50%, -50%)",g.value.position="fixed",delete g.value.opacity},k=()=>{const s=Oe(o),{top:u,left:$,transform:q}=i.altPosition(s);g.value={top:`${u}px`,left:`${$}px`,transform:q??""}},Y=(s=!0)=>{var u;if(!t.value.enabled){if(b.value)return J();if(i.altPosition!==null)return k();if(s){const $=i.teleport?(u=a.value)==null?void 0:u.$el:e.value;$&&(C.value=$.getBoundingClientRect()),v("recalculate-position")}return ne()}},L=({inputEl:s,left:u,width:$})=>{window.screen.width>768&&!T.value&&j(u,$),W(s)},I=s=>{const{top:u,left:$,height:q,width:te}=X(s);g.value.top=`${q+u+ +i.offset}px`,p.value=!1,T.value||(g.value.left=`${$+te/2-C.value.width/2}px`),L({inputEl:s,left:$,width:te})},O=s=>{const{top:u,left:$,width:q}=X(s);g.value.top=`${u-+i.offset-C.value.height}px`,p.value=!0,L({inputEl:s,left:$,width:q})},W=s=>{if(i.autoPosition){const{left:u,width:$}=X(s),{left:q,right:te}=C.value;if(!T.value){if(Math.abs(q)!==Math.abs(te)){if(q<=0)return T.value=!0,M(u);if(te>=document.documentElement.clientWidth)return T.value=!0,D(u,$)}return j(u,$)}}},Z=()=>{const s=Oe(o);if(s){const{height:u}=C.value,{top:$,height:q}=s.getBoundingClientRect(),te=window.innerHeight-$-q,z=$;return u<=te?ka.bottom:u>te&&u<=z?ka.top:te>=z?ka.bottom:ka.top}return ka.bottom},ae=s=>Z()===ka.bottom?I(s):O(s),ne=()=>{const s=Oe(o);if(s)return i.autoPosition?ae(s):I(s)},S=function(s){if(s){const u=s.scrollHeight>s.clientHeight,$=window.getComputedStyle(s).overflowY.indexOf("hidden")!==-1;return u&&!$}return!0},B=function(s){return!s||s===document.body||s.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:S(s)?s:B(s.parentNode)},ee=s=>{if(s)switch(i.position){case Ca.left:return{left:0,transform:"translateX(0)"};case Ca.right:return{left:`${s.width}px`,transform:"translateX(-100%)"};default:return{left:`${s.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:p,menuStyle:g,xCorrect:T,setMenuPosition:Y,getScrollableParent:B,shadowRender:(s,u)=>{var $,q,te;const z=document.createElement("div"),y=($=Oe(o))==null?void 0:$.getBoundingClientRect();z.setAttribute("id","dp--temp-container");const _=(q=l.value)!=null&&q.clientWidth?l.value:document.body;_.append(z);const n=ee(y),r=Pl(s,{...u,shadow:!0,style:{opacity:0,position:"absolute",...n}},Object.fromEntries(Object.keys(c).filter(w=>["right-sidebar","left-sidebar"].includes(w)).map(w=>[w,c[w]])));zt(r,z),C.value=(te=r.el)==null?void 0:te.getBoundingClientRect(),zt(null,z),_.removeChild(z)}}},pa=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]}],Yn=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],On={all:()=>pa,monthYear:()=>pa.filter(e=>e.use.includes("month-year")),input:()=>Yn,timePicker:()=>pa.filter(e=>e.use.includes("time")),action:()=>pa.filter(e=>e.use.includes("action")),calendar:()=>pa.filter(e=>e.use.includes("calendar")),menu:()=>pa.filter(e=>e.use.includes("menu")),shared:()=>pa.filter(e=>e.use.includes("shared")),yearMode:()=>pa.filter(e=>e.use.includes("year-mode"))},Ke=(e,a,o)=>{const l=[];return On[a]().forEach(t=>{e[t.name]&&l.push(t.name)}),o!=null&&o.length&&o.forEach(t=>{t.slot&&l.push(t.slot)}),l},Ka=e=>{const a=H(()=>l=>e.value?l?e.value.open:e.value.close:""),o=H(()=>l=>e.value?l?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:a,showTransition:!!e.value,menuTransition:o}},ja=(e,a)=>{const{defaultedRange:o,defaultedTz:l}=xe(e),t=N(sa(N(),l.value.timezone)),v=U([{month:ge(t),year:ye(t)}]),i=qa({hours:o.value.enabled?[Ue(t),Ue(t)]:Ue(t),minutes:o.value.enabled?[na(t),na(t)]:na(t),seconds:o.value.enabled?[0,0]:0}),c=H({get:()=>e.internalModelValue,set:g=>{!e.readonly&&!e.disabled&&a("update:internal-model-value",g)}}),C=H(()=>g=>v.value[g]?v.value[g].month:0),T=H(()=>g=>v.value[g]?v.value[g].year:0);return{calendars:v,time:i,modelValue:c,month:C,year:T}},In=(e,a)=>{const{defaultedMultiCalendars:o,defaultedMultiDates:l,defaultedHighlight:t,defaultedTz:v,propDates:i,defaultedRange:c}=xe(a),{isDisabled:C}=ba(a),T=U(null),g=U(sa(new Date,v.value.timezone)),p=n=>{!n.current&&a.hideOffsetDates||(T.value=n.value)},b=()=>{T.value=null},P=n=>Array.isArray(e.value)&&c.value.enabled&&e.value[0]&&T.value?n?Re(T.value,e.value[0]):Ce(T.value,e.value[0]):!0,D=(n,r)=>{const w=()=>e.value?r?e.value[0]||null:e.value[1]:null,R=e.value&&Array.isArray(e.value)?w():null;return _e(N(n.value),R)},M=n=>{const r=Array.isArray(e.value)?e.value[0]:null;return n?!Ce(T.value??null,r):!0},j=(n,r=!0)=>(c.value.enabled||a.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?a.hideOffsetDates&&!n.current?!1:_e(N(n.value),e.value[r?0:1]):c.value.enabled?D(n,r)&&M(r)||_e(n.value,Array.isArray(e.value)?e.value[0]:null)&&P(r):!1,X=(n,r,w)=>Array.isArray(e.value)&&e.value[0]&&e.value.length===1?n?!1:w?Re(e.value[0],r.value):Ce(e.value[0],r.value):!1,J=n=>!e.value||a.hideOffsetDates&&!n.current?!1:c.value.enabled?a.modelAuto&&Array.isArray(e.value)?_e(n.value,e.value[0]?e.value[0]:g.value):!1:l.value.enabled&&Array.isArray(e.value)?e.value.some(r=>_e(r,n.value)):_e(n.value,e.value?e.value:g.value),k=n=>{if(c.value.autoRange||a.weekPicker){if(T.value){if(a.hideOffsetDates&&!n.current)return!1;const r=Aa(T.value,+c.value.autoRange),w=ua(N(T.value),a.weekStart);return a.weekPicker?_e(w[1],N(n.value)):_e(r,N(n.value))}return!1}return!1},Y=n=>{if(c.value.autoRange||a.weekPicker){if(T.value){const r=Aa(T.value,+c.value.autoRange);if(a.hideOffsetDates&&!n.current)return!1;const w=ua(N(T.value),a.weekStart);return a.weekPicker?Re(n.value,w[0])&&Ce(n.value,w[1]):Re(n.value,T.value)&&Ce(n.value,r)}return!1}return!1},L=n=>{if(c.value.autoRange||a.weekPicker){if(T.value){if(a.hideOffsetDates&&!n.current)return!1;const r=ua(N(T.value),a.weekStart);return a.weekPicker?_e(r[0],n.value):_e(T.value,n.value)}return!1}return!1},I=n=>nt(e.value,T.value,n.value),O=()=>a.modelAuto&&Array.isArray(a.internalModelValue)?!!a.internalModelValue[0]:!1,W=()=>a.modelAuto?cl(a.internalModelValue):!0,Z=n=>{if(a.weekPicker)return!1;const r=c.value.enabled?!j(n)&&!j(n,!1):!0;return!C(n.value)&&!J(n)&&!(!n.current&&a.hideOffsetDates)&&r},ae=n=>c.value.enabled?a.modelAuto?O()&&J(n):!1:J(n),ne=n=>t.value?ln(n.value,i.value.highlight):!1,S=n=>{const r=C(n.value);return r&&(typeof t.value=="function"?!t.value(n.value,r):!t.value.options.highlightDisabled)},B=n=>{var r;return typeof t.value=="function"?t.value(n.value):(r=t.value.weekdays)==null?void 0:r.includes(n.value.getDay())},ee=n=>(c.value.enabled||a.weekPicker)&&(!(o.value.count>0)||n.current)&&W()&&!(!n.current&&a.hideOffsetDates)&&!J(n)?I(n):!1,s=n=>{const{isRangeStart:r,isRangeEnd:w}=te(n),R=c.value.enabled?r||w:!1;return{dp__cell_offset:!n.current,dp__pointer:!a.disabled&&!(!n.current&&a.hideOffsetDates)&&!C(n.value),dp__cell_disabled:C(n.value),dp__cell_highlight:!S(n)&&(ne(n)||B(n))&&!ae(n)&&!R&&!L(n)&&!(ee(n)&&a.weekPicker)&&!w,dp__cell_highlight_active:!S(n)&&(ne(n)||B(n))&&ae(n),dp__today:!a.noToday&&_e(n.value,g.value)&&n.current,"dp--past":Ce(n.value,g.value),"dp--future":Re(n.value,g.value)}},u=n=>({dp__active_date:ae(n),dp__date_hover:Z(n)}),$=n=>{if(e.value&&!Array.isArray(e.value)){const r=ua(e.value,a.weekStart);return{...y(n),dp__range_start:_e(r[0],n.value),dp__range_end:_e(r[1],n.value),dp__range_between_week:Re(n.value,r[0])&&Ce(n.value,r[1])}}return{...y(n)}},q=n=>{if(e.value&&Array.isArray(e.value)){const r=ua(e.value[0],a.weekStart),w=e.value[1]?ua(e.value[1],a.weekStart):[];return{...y(n),dp__range_start:_e(r[0],n.value)||_e(w[0],n.value),dp__range_end:_e(r[1],n.value)||_e(w[1],n.value),dp__range_between_week:Re(n.value,r[0])&&Ce(n.value,r[1])||Re(n.value,w[0])&&Ce(n.value,w[1]),dp__range_between:Re(n.value,r[1])&&Ce(n.value,w[0])}}return{...y(n)}},te=n=>{const r=o.value.count>0?n.current&&j(n)&&W():j(n)&&W(),w=o.value.count>0?n.current&&j(n,!1)&&W():j(n,!1)&&W();return{isRangeStart:r,isRangeEnd:w}},z=n=>{const{isRangeStart:r,isRangeEnd:w}=te(n);return{dp__range_start:r,dp__range_end:w,dp__range_between:ee(n),dp__date_hover:Z(n),dp__date_hover_start:X(Z(n),n,!0),dp__date_hover_end:X(Z(n),n,!1)}},y=n=>({...z(n),dp__cell_auto_range:Y(n),dp__cell_auto_range_start:L(n),dp__cell_auto_range_end:k(n)}),_=n=>c.value.enabled?c.value.autoRange?y(n):a.modelAuto?{...u(n),...z(n)}:a.weekPicker?q(n):z(n):a.weekPicker?$(n):u(n);return{setHoverDate:p,clearHoverDate:b,getDayClassData:n=>a.hideOffsetDates&&!n.current?{}:{...s(n),..._(n),[a.dayClass?a.dayClass(n.value):""]:!0,[a.calendarCellClassName]:!!a.calendarCellClassName}}},ba=e=>{const{defaultedFilters:a,defaultedRange:o,propDates:l,defaultedMultiDates:t}=xe(e),v=S=>l.value.disabledDates?typeof l.value.disabledDates=="function"?l.value.disabledDates(N(S)):!!at(S,l.value.disabledDates):!1,i=S=>{const B=l.value.maxDate?Re(S,l.value.maxDate):!1,ee=l.value.minDate?Ce(S,l.value.minDate):!1,s=v(S),u=a.value.months.map(y=>+y).includes(ge(S)),$=e.disabledWeekDays.length?e.disabledWeekDays.some(y=>+y===Nl(S)):!1,q=p(S),te=ye(S),z=te<+e.yearRange[0]||te>+e.yearRange[1];return!(B||ee||s||u||z||$||q)},c=(S,B)=>Ce(...ma(l.value.minDate,S,B))||_e(...ma(l.value.minDate,S,B)),C=(S,B)=>Re(...ma(l.value.maxDate,S,B))||_e(...ma(l.value.maxDate,S,B)),T=(S,B,ee)=>{let s=!1;return l.value.maxDate&&ee&&C(S,B)&&(s=!0),l.value.minDate&&!ee&&c(S,B)&&(s=!0),s},g=(S,B,ee,s)=>{let u=!1;return s?l.value.minDate&&l.value.maxDate?u=T(S,B,ee):(l.value.minDate&&c(S,B)||l.value.maxDate&&C(S,B))&&(u=!0):u=!0,u},p=S=>Array.isArray(l.value.allowedDates)&&!l.value.allowedDates.length?!0:l.value.allowedDates?!at(S,l.value.allowedDates):!1,b=S=>!i(S),P=S=>o.value.noDisabledRange?!tl({start:S[0],end:S[1]}).some(B=>b(B)):!0,D=S=>{if(S){const B=ye(S);return B>=+e.yearRange[0]&&B<=e.yearRange[1]}return!0},M=(S,B)=>!!(Array.isArray(S)&&S[B]&&(o.value.maxRange||o.value.minRange)&&D(S[B])),j=(S,B,ee=0)=>{if(M(B,ee)&&D(S)){const s=Bl(S,B[ee]),u=fl(B[ee],S),$=u.length===1?0:u.filter(te=>b(te)).length,q=Math.abs(s)-(o.value.minMaxRawRange?0:$);if(o.value.minRange&&o.value.maxRange)return q>=+o.value.minRange&&q<=+o.value.maxRange;if(o.value.minRange)return q>=+o.value.minRange;if(o.value.maxRange)return q<=+o.value.maxRange}return!0},X=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,J=S=>Array.isArray(S)?[S[0]?bt(S[0]):null,S[1]?bt(S[1]):null]:bt(S),k=(S,B,ee)=>S.find(s=>+s.hours===Ue(B)&&s.minutes==="*"?!0:+s.minutes===na(B)&&+s.hours===Ue(B))&&ee,Y=(S,B,ee)=>{const[s,u]=S,[$,q]=B;return!k(s,$,ee)&&!k(u,q,ee)&&ee},L=(S,B)=>{const ee=Array.isArray(B)?B:[B];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?Y(e.disabledTimes,ee,S):!ee.some(s=>k(e.disabledTimes,s,S)):S},I=(S,B)=>{const ee=Array.isArray(B)?[Ma(B[0]),B[1]?Ma(B[1]):void 0]:Ma(B),s=!e.disabledTimes(ee);return S&&s},O=(S,B)=>e.disabledTimes?Array.isArray(e.disabledTimes)?L(B,S):I(B,S):B,W=S=>{let B=!0;if(!S||X())return!0;const ee=!l.value.minDate&&!l.value.maxDate?J(S):S;return(e.maxTime||l.value.maxDate)&&(B=Qt(e.maxTime,l.value.maxDate,"max",Ne(ee),B)),(e.minTime||l.value.minDate)&&(B=Qt(e.minTime,l.value.minDate,"min",Ne(ee),B)),O(S,B)},Z=S=>{if(!e.monthPicker)return!0;let B=!0;const ee=N(Xe(S));if(l.value.minDate&&l.value.maxDate){const s=N(Xe(l.value.minDate)),u=N(Xe(l.value.maxDate));return Re(ee,s)&&Ce(ee,u)||_e(ee,s)||_e(ee,u)}if(l.value.minDate){const s=N(Xe(l.value.minDate));B=Re(ee,s)||_e(ee,s)}if(l.value.maxDate){const s=N(Xe(l.value.maxDate));B=Ce(ee,s)||_e(ee,s)}return B},ae=H(()=>S=>!e.enableTimePicker||e.ignoreTimeValidation?!0:W(S)),ne=H(()=>S=>e.monthPicker?Array.isArray(S)&&(o.value.enabled||t.value.enabled)?!S.filter(B=>!Z(B)).length:Z(S):!0);return{isDisabled:b,validateDate:i,validateMonthYearInRange:g,isDateRangeAllowed:P,checkMinMaxRange:j,isValidTime:W,isTimeValid:ae,isMonthValid:ne}},rt=()=>{const e=H(()=>(l,t)=>l==null?void 0:l.includes(t)),a=H(()=>(l,t)=>l.count?l.solo?!0:t===0:!0),o=H(()=>(l,t)=>l.count?l.solo?!0:t===l.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:a,showRightIcon:o}},Nn=(e,a,o)=>{const l=U(0),t=qa({[Ta.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ta.calendar]:!1,[Ta.header]:!1}),v=H(()=>e.monthPicker),i=p=>{var b;if((b=e.flow)!=null&&b.length){if(!p&&v.value)return g();t[p]=!0,Object.keys(t).filter(P=>!t[P]).length||g()}},c=()=>{var p;(p=e.flow)!=null&&p.length&&l.value!==-1&&(l.value+=1,a("flow-step",l.value),g())},C=()=>{l.value=-1},T=(p,b,...P)=>{var D,M;e.flow[l.value]===p&&o.value&&((M=(D=o.value)[b])==null||M.call(D,...P))},g=()=>{T(aa.month,"toggleMonthPicker",!0),T(aa.year,"toggleYearPicker",!0),T(aa.calendar,"toggleTimePicker",!1,!0),T(aa.time,"toggleTimePicker",!0,!0);const p=e.flow[l.value];(p===aa.hours||p===aa.minutes||p===aa.seconds)&&T(p,"toggleTimePicker",!0,!0,p)};return{childMount:i,updateFlowStep:c,resetFlow:C,flowStep:l}},ot={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[String,Boolean,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},calendarClassName:{type:String,default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},Ze={...ot,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null}},Bn={key:1,class:"dp__input_wrap"},Vn=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],En={key:2,class:"dp__clear_icon"},Ln=Ve({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...ot},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(e,{expose:a,emit:o}){const l=o,t=e,{defaultedTextInput:v,defaultedAriaLabels:i,defaultedInline:c,defaultedConfig:C,defaultedRange:T,defaultedMultiDates:g,getDefaultPattern:p,getDefaultStartTime:b}=xe(t),{checkMinMaxRange:P}=ba(t),D=U(),M=U(null),j=U(!1),X=U(!1),J=H(()=>({dp__pointer:!t.disabled&&!t.readonly&&!v.value.enabled,dp__disabled:t.disabled,dp__input_readonly:!v.value.enabled,dp__input:!0,dp__input_icon_pad:!t.hideInputIcon,dp__input_valid:!!t.state,dp__input_invalid:t.state===!1,dp__input_focus:j.value||t.isMenuOpen,dp__input_reg:!v.value.enabled,[t.inputClassName]:!!t.inputClassName})),k=()=>{l("set-input-date",null),t.autoApply&&(l("set-empty-date"),D.value=null)},Y=u=>{const $=b();return nn(u,v.value.format??p(),$??hl({},t.enableSeconds),t.inputValue,X.value,t.formatLocale)},L=u=>{const{rangeSeparator:$}=v.value,[q,te]=u.split(`${$}`);if(q){const z=Y(q.trim()),y=te?Y(te.trim()):null,_=z&&y?[z,y]:[z];P(y,_,0)&&(D.value=z?_:null)}},I=()=>{X.value=!0},O=u=>{if(T.value.enabled)L(u);else if(g.value.enabled){const $=u.split(";");D.value=$.map(q=>Y(q.trim())).filter(q=>q)}else D.value=Y(u)},W=u=>{var $;const q=typeof u=="string"?u:($=u.target)==null?void 0:$.value;q!==""?(v.value.openMenu&&!t.isMenuOpen&&l("open"),O(q),l("set-input-date",D.value)):k(),X.value=!1,l("update:input-value",q)},Z=u=>{v.value.enabled?(O(u.target.value),v.value.enterSubmit&&$t(D.value)&&t.inputValue!==""?(l("set-input-date",D.value,!0),D.value=null):v.value.enterSubmit&&t.inputValue===""&&(D.value=null,l("clear"))):S(u)},ae=u=>{v.value.enabled&&v.value.tabSubmit&&O(u.target.value),v.value.tabSubmit&&$t(D.value)&&t.inputValue!==""?(l("set-input-date",D.value,!0,!0),D.value=null):v.value.tabSubmit&&t.inputValue===""&&(D.value=null,l("clear",!0))},ne=()=>{j.value=!0,l("focus"),da().then(()=>{var u;v.value.enabled&&v.value.selectOnFocus&&((u=M.value)==null||u.select())})},S=u=>{u.preventDefault(),ya(u,C.value,!0),v.value.enabled&&v.value.openMenu&&!c.value.input&&!t.isMenuOpen?l("open"):v.value.enabled||l("toggle")},B=()=>{l("real-blur"),j.value=!1,(!t.isMenuOpen||c.value.enabled&&c.value.input)&&l("blur"),t.autoApply&&v.value.enabled&&D.value&&!t.isMenuOpen&&(l("set-input-date",D.value),l("select-date"),D.value=null)},ee=u=>{ya(u,C.value,!0),l("clear")},s=u=>{if(!v.value.enabled){if(u.code==="Tab")return;u.preventDefault()}};return a({focusInput:()=>{var u;(u=M.value)==null||u.focus({preventScroll:!0})},setParsedDate:u=>{D.value=u}}),(u,$)=>{var q;return A(),F("div",{onClick:S},[u.$slots.trigger&&!u.$slots["dp-input"]&&!d(c).enabled?le(u.$slots,"trigger",{key:0}):K("",!0),!u.$slots.trigger&&(!d(c).enabled||d(c).input)?(A(),F("div",Bn,[u.$slots["dp-input"]&&!u.$slots.trigger&&(!d(c).enabled||d(c).enabled&&d(c).input)?le(u.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:W,onEnter:Z,onTab:ae,onClear:ee,onBlur:B,onKeypress:s,onPaste:I,openMenu:()=>u.$emit("open"),closeMenu:()=>u.$emit("close"),toggleMenu:()=>u.$emit("toggle")}):K("",!0),u.$slots["dp-input"]?K("",!0):(A(),F("input",{key:1,id:u.uid?`dp-input-${u.uid}`:void 0,ref_key:"inputRef",ref:M,name:u.name,class:ke(J.value),inputmode:d(v).enabled?"text":"none",placeholder:u.placeholder,disabled:u.disabled,readonly:u.readonly,required:u.required,value:e.inputValue,autocomplete:u.autocomplete,"aria-label":(q=d(i))==null?void 0:q.input,"aria-disabled":u.disabled||void 0,"aria-invalid":u.state===!1?!0:void 0,onInput:W,onKeydown:[pe(Z,["enter"]),pe(ae,["tab"]),s],onBlur:B,onFocus:ne,onKeypress:s,onPaste:I},null,42,Vn)),ce("div",{onClick:$[2]||($[2]=te=>l("toggle"))},[u.$slots["input-icon"]&&!u.hideInputIcon?(A(),F("span",{key:0,class:"dp__input_icon",onClick:$[0]||($[0]=te=>l("toggle"))},[le(u.$slots,"input-icon")])):K("",!0),!u.$slots["input-icon"]&&!u.hideInputIcon&&!u.$slots["dp-input"]?(A(),we(d(Ia),{key:1,class:"dp__input_icon dp__input_icons",onClick:$[1]||($[1]=te=>l("toggle"))})):K("",!0)]),u.$slots["clear-icon"]&&e.inputValue&&u.clearable&&!u.disabled&&!u.readonly?(A(),F("span",En,[le(u.$slots,"clear-icon",{clear:ee})])):K("",!0),u.clearable&&!u.$slots["clear-icon"]&&e.inputValue&&!u.disabled&&!u.readonly?(A(),we(d(sl),{key:3,class:"dp__clear_icon dp__input_icons",onClick:$[3]||($[3]=De(te=>ee(te),["prevent"]))})):K("",!0)])):K("",!0)])}}}),Fn=["title"],Hn=["disabled"],zn=Ve({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Ze},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:a}){const o=a,l=e,{defaultedActionRow:t,defaultedPreviewFormat:v,defaultedMultiCalendars:i,defaultedTextInput:c,defaultedInline:C,defaultedRange:T,defaultedMultiDates:g,getDefaultPattern:p}=xe(l),{isTimeValid:b,isMonthValid:P}=ba(l),{buildMatrix:D}=ga(),M=U(null),j=U(null),X=U(!1),J=U({}),k=U(null),Y=U(null);qe(()=>{l.arrowNavigation&&D([Oe(M),Oe(j)],"actionRow"),L(),window.addEventListener("resize",L)}),tt(()=>{window.removeEventListener("resize",L)});const L=()=>{X.value=!1,setTimeout(()=>{var s,u;const $=(s=k.value)==null?void 0:s.getBoundingClientRect(),q=(u=Y.value)==null?void 0:u.getBoundingClientRect();$&&q&&(J.value.maxWidth=`${q.width-$.width-20}px`),X.value=!0},0)},I=H(()=>T.value.enabled&&!T.value.partialRange&&l.internalModelValue?l.internalModelValue.length===2:!0),O=H(()=>!b.value(l.internalModelValue)||!P.value(l.internalModelValue)||!I.value),W=()=>{const s=v.value;return l.timePicker||l.monthPicker,s(Ne(l.internalModelValue))},Z=()=>{const s=l.internalModelValue;return i.value.count>0?`${ae(s[0])} - ${ae(s[1])}`:[ae(s[0]),ae(s[1])]},ae=s=>bl(s,v.value,l.formatLocale,c.value.rangeSeparator,l.modelAuto,p()),ne=H(()=>!l.internalModelValue||!l.menuMount?"":typeof v.value=="string"?Array.isArray(l.internalModelValue)?l.internalModelValue.length===2&&l.internalModelValue[1]?Z():g.value.enabled?l.internalModelValue.map(s=>`${ae(s)}`):l.modelAuto?`${ae(l.internalModelValue[0])}`:`${ae(l.internalModelValue[0])} -`:ae(l.internalModelValue):W()),S=()=>g.value.enabled?"; ":" - ",B=H(()=>Array.isArray(ne.value)?ne.value.join(S()):ne.value),ee=()=>{b.value(l.internalModelValue)&&P.value(l.internalModelValue)&&I.value?o("select-date"):o("invalid-select")};return(s,u)=>(A(),F("div",{ref_key:"actionRowRef",ref:Y,class:"dp__action_row"},[s.$slots["action-row"]?le(s.$slots,"action-row",Pe(Be({key:0},{internalModelValue:s.internalModelValue,disabled:O.value,selectDate:()=>s.$emit("select-date"),closePicker:()=>s.$emit("close-picker")}))):(A(),F(be,{key:1},[d(t).showPreview?(A(),F("div",{key:0,class:"dp__selection_preview",title:B.value,style:Qe(J.value)},[s.$slots["action-preview"]&&X.value?le(s.$slots,"action-preview",{key:0,value:s.internalModelValue}):K("",!0),!s.$slots["action-preview"]&&X.value?(A(),F(be,{key:1},[ca(Le(B.value),1)],64)):K("",!0)],12,Fn)):K("",!0),ce("div",{ref_key:"actionBtnContainer",ref:k,class:"dp__action_buttons","data-dp-element":"action-row"},[s.$slots["action-buttons"]?le(s.$slots,"action-buttons",{key:0,value:s.internalModelValue}):K("",!0),s.$slots["action-buttons"]?K("",!0):(A(),F(be,{key:1},[!d(C).enabled&&d(t).showCancel?(A(),F("button",{key:0,ref_key:"cancelButtonRef",ref:M,type:"button",class:"dp__action_button dp__action_cancel",onClick:u[0]||(u[0]=$=>s.$emit("close-picker")),onKeydown:[u[1]||(u[1]=pe($=>s.$emit("close-picker"),["enter"])),u[2]||(u[2]=pe($=>s.$emit("close-picker"),["space"]))]},Le(s.cancelText),545)):K("",!0),d(t).showNow?(A(),F("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:u[3]||(u[3]=$=>s.$emit("select-now")),onKeydown:[u[4]||(u[4]=pe($=>s.$emit("select-now"),["enter"])),u[5]||(u[5]=pe($=>s.$emit("select-now"),["space"]))]},Le(s.nowButtonLabel),33)):K("",!0),d(t).showSelect?(A(),F("button",{key:2,ref_key:"selectButtonRef",ref:j,type:"button",class:"dp__action_button dp__action_select",disabled:O.value,onKeydown:[pe(ee,["enter"]),pe(ee,["space"])],onClick:ee},Le(s.selectText),41,Hn)):K("",!0)],64))],512)],64))],512))}}),qn=["onKeydown"],Kn={class:"dp__selection_grid_header"},jn=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Wn=["aria-label"],Wa=Ve({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:a,emit:o}){const{setSelectionGrid:l,buildMultiLevelMatrix:t,setMonthPicker:v}=ga(),i=o,c=e,{defaultedAriaLabels:C,defaultedTextInput:T,defaultedConfig:g}=xe(c),{hideNavigationButtons:p}=rt(),b=U(!1),P=U(null),D=U(null),M=U([]),j=U(),X=U(null),J=U(0),k=U(null);Yl(()=>{P.value=null}),qe(()=>{da().then(()=>ne()),c.noOverlayFocus||L(),Y(!0)}),tt(()=>Y(!1));const Y=z=>{var y;c.arrowNavigation&&((y=c.headerRefs)!=null&&y.length?v(z):l(z))},L=()=>{var z;const y=Oe(D);y&&(T.value.enabled||(P.value?(z=P.value)==null||z.focus({preventScroll:!0}):y.focus({preventScroll:!0})),b.value=y.clientHeight<y.scrollHeight)},I=H(()=>({dp__overlay:!0,"dp--overlay-absolute":!c.useRelative,"dp--overlay-relative":c.useRelative})),O=H(()=>c.useRelative?{height:`${c.height}px`,width:"260px"}:void 0),W=H(()=>({dp__overlay_col:!0})),Z=H(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:b.value,dp__button_bottom:c.isLast})),ae=H(()=>{var z,y;return{dp__overlay_container:!0,dp__container_flex:((z=c.items)==null?void 0:z.length)<=6,dp__container_block:((y=c.items)==null?void 0:y.length)>6}});ha(()=>c.items,()=>ne(!1),{deep:!0});const ne=(z=!0)=>{da().then(()=>{const y=Oe(P),_=Oe(D),n=Oe(X),r=Oe(k),w=n?n.getBoundingClientRect().height:0;_&&(_.getBoundingClientRect().height?J.value=_.getBoundingClientRect().height-w:J.value=g.value.modeHeight-w),y&&r&&z&&(r.scrollTop=y.offsetTop-r.offsetTop-(J.value/2-y.getBoundingClientRect().height)-w)})},S=z=>{z.disabled||i("selected",z.value)},B=()=>{i("toggle"),i("reset-flow")},ee=()=>{c.escClose&&B()},s=(z,y,_,n)=>{z&&((y.active||y.value===c.focusValue)&&(P.value=z),c.arrowNavigation&&(Array.isArray(M.value[_])?M.value[_][n]=z:M.value[_]=[z],u()))},u=()=>{var z,y;const _=(z=c.headerRefs)!=null&&z.length?[c.headerRefs].concat(M.value):M.value.concat([c.skipButtonRef?[]:[X.value]]);t(Ne(_),(y=c.headerRefs)!=null&&y.length?"monthPicker":"selectionGrid")},$=z=>{c.arrowNavigation||ya(z,g.value,!0)},q=z=>{j.value=z,i("hover-value",z)},te=()=>{if(B(),!c.isLast){const z=tn(c.menuWrapRef??null,"action-row");if(z){const y=vl(z);y==null||y.focus()}}};return a({focusGrid:L}),(z,y)=>{var _;return A(),F("div",{ref_key:"gridWrapRef",ref:D,class:ke(I.value),style:Qe(O.value),role:"dialog",tabindex:"0",onKeydown:[pe(De(ee,["prevent"]),["esc"]),y[0]||(y[0]=pe(De(n=>$(n),["prevent"]),["left"])),y[1]||(y[1]=pe(De(n=>$(n),["prevent"]),["up"])),y[2]||(y[2]=pe(De(n=>$(n),["prevent"]),["down"])),y[3]||(y[3]=pe(De(n=>$(n),["prevent"]),["right"]))]},[ce("div",{ref_key:"containerRef",ref:k,class:ke(ae.value),role:"grid",style:Qe({height:`${J.value}px`})},[ce("div",Kn,[le(z.$slots,"header")]),z.$slots.overlay?le(z.$slots,"overlay",{key:0}):(A(!0),F(be,{key:1},$e(z.items,(n,r)=>(A(),F("div",{key:r,class:ke(["dp__overlay_row",{dp__flex_row:z.items.length>=3}]),role:"row"},[(A(!0),F(be,null,$e(n,(w,R)=>(A(),F("div",{key:w.value,ref_for:!0,ref:fe=>s(fe,w,r,R),role:"gridcell",class:ke(W.value),"aria-selected":w.active||void 0,"aria-disabled":w.disabled||void 0,tabindex:"0",onClick:fe=>S(w),onKeydown:[pe(De(fe=>S(w),["prevent"]),["enter"]),pe(De(fe=>S(w),["prevent"]),["space"])],onMouseover:fe=>q(w.value)},[ce("div",{class:ke(w.className)},[z.$slots.item?le(z.$slots,"item",{key:0,item:w}):K("",!0),z.$slots.item?K("",!0):(A(),F(be,{key:1},[ca(Le(w.text),1)],64))],2)],42,jn))),128))],2))),128))],6),z.$slots["button-icon"]?Qa((A(),F("button",{key:0,ref_key:"toggleButton",ref:X,type:"button","aria-label":(_=d(C))==null?void 0:_.toggleOverlay,class:ke(Z.value),tabindex:"0",onClick:B,onKeydown:[pe(B,["enter"]),pe(te,["tab"])]},[le(z.$slots,"button-icon")],42,Wn)),[[Ua,!d(p)(z.hideNavigation,z.type)]]):K("",!0)],46,qn)}}}),ut=Ve({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const a=e,o=H(()=>a.multiCalendars>0?[...Array(a.multiCalendars).keys()]:[0]),l=H(()=>({dp__instance_calendar:a.multiCalendars>0}));return(t,v)=>(A(),F("div",{class:ke({dp__menu_inner:!t.stretch,"dp--menu--inner-stretched":t.stretch,dp__flex_display:t.multiCalendars>0,"dp--flex-display-collapsed":t.collapse})},[(A(!0),F(be,null,$e(o.value,(i,c)=>(A(),F("div",{key:i,class:ke(l.value)},[le(t.$slots,"default",{instance:i,index:c})],2))),128))],2))}}),Gn=["aria-label","aria-disabled"],Ea=Ve({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:a}){const o=a,l=U(null);return qe(()=>o("set-ref",l)),(t,v)=>(A(),F("button",{ref_key:"elRef",ref:l,type:"button",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":t.ariaLabel,"aria-disabled":t.disabled||void 0,onClick:v[0]||(v[0]=i=>t.$emit("activate")),onKeydown:[v[1]||(v[1]=pe(De(i=>t.$emit("activate"),["prevent"]),["enter"])),v[2]||(v[2]=pe(De(i=>t.$emit("activate"),["prevent"]),["space"]))]},[ce("span",{class:ke(["dp__inner_nav",{dp__inner_nav_disabled:t.disabled}])},[le(t.$slots,"default")],2)],40,Gn))}}),Jn={class:"dp--year-mode-picker"},Xn=["aria-label"],Al=Ve({__name:"YearModePicker",props:{...Ze,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:a}){const o=a,l=e,{showRightIcon:t,showLeftIcon:v}=rt(),{defaultedConfig:i,defaultedMultiCalendars:c,defaultedAriaLabels:C,defaultedTransitions:T}=xe(l),{showTransition:g,transitionName:p}=Ka(T),b=(M=!1,j)=>{o("toggle-year-picker",{flow:M,show:j})},P=M=>{o("year-select",M)},D=(M=!1)=>{o("handle-year",M)};return(M,j)=>{var X,J,k;return A(),F("div",Jn,[d(v)(d(c),e.instance)?(A(),we(Ea,{key:0,ref:"mpPrevIconRef","aria-label":(X=d(C))==null?void 0:X.prevYear,disabled:e.isDisabled(!1),onActivate:j[0]||(j[0]=Y=>D(!1))},{default:he(()=>[M.$slots["arrow-left"]?le(M.$slots,"arrow-left",{key:0}):K("",!0),M.$slots["arrow-left"]?K("",!0):(A(),we(d(Rt),{key:1}))]),_:3},8,["aria-label","disabled"])):K("",!0),ce("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":(J=d(C))==null?void 0:J.openYearsOverlay,onClick:j[1]||(j[1]=()=>b(!1)),onKeydown:j[2]||(j[2]=pe(()=>b(!1),["enter"]))},[M.$slots.year?le(M.$slots,"year",{key:0,year:e.year}):K("",!0),M.$slots.year?K("",!0):(A(),F(be,{key:1},[ca(Le(e.year),1)],64))],40,Xn),d(t)(d(c),e.instance)?(A(),we(Ea,{key:1,ref:"mpNextIconRef","aria-label":(k=d(C))==null?void 0:k.nextYear,disabled:e.isDisabled(!0),onActivate:j[3]||(j[3]=Y=>D(!0))},{default:he(()=>[M.$slots["arrow-right"]?le(M.$slots,"arrow-right",{key:0}):K("",!0),M.$slots["arrow-right"]?K("",!0):(A(),we(d(Pt),{key:1}))]),_:3},8,["aria-label","disabled"])):K("",!0),Ge(Oa,{name:d(p)(e.showYearPicker),css:d(g)},{default:he(()=>[e.showYearPicker?(A(),we(Wa,{key:0,items:e.items,"text-input":M.textInput,"esc-close":M.escClose,config:M.config,"is-last":M.autoApply&&!d(i).keepActionRow,"hide-navigation":M.hideNavigation,"aria-labels":M.ariaLabels,type:"year",onToggle:b,onSelected:j[4]||(j[4]=Y=>P(Y))},ze({"button-icon":he(()=>[M.$slots["calendar-icon"]?le(M.$slots,"calendar-icon",{key:0}):K("",!0),M.$slots["calendar-icon"]?K("",!0):(A(),we(d(Ia),{key:1}))]),_:2},[M.$slots["year-overlay-value"]?{name:"item",fn:he(({item:Y})=>[le(M.$slots,"year-overlay-value",{text:Y.text,value:Y.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels"])):K("",!0)]),_:3},8,["name","css"])])}}}),Lt=(e,a,o)=>{if(a.value&&Array.isArray(a.value))if(a.value.some(l=>_e(e,l))){const l=a.value.filter(t=>!_e(t,e));a.value=l.length?l:null}else(o&&+o>a.value.length||!o)&&a.value.push(e);else a.value=[e]},Ft=(e,a,o)=>{let l=e.value?e.value.slice():[];return l.length===2&&l[1]!==null&&(l=[]),l.length?Ce(a,l[0])?(l.unshift(a),o("range-start",l[0]),o("range-start",l[1])):(l[1]=a,o("range-end",a)):(l=[a],o("range-start",a)),l},it=(e,a,o,l)=>{e&&(e[0]&&e[1]&&o&&a("auto-apply"),e[0]&&!e[1]&&l&&o&&a("auto-apply"))},Dl=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(a=>sa(N(a),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=sa(N(e.value),e.timezone))},Ml=(e,a,o,l)=>Array.isArray(a.value)&&(a.value.length===2||a.value.length===1&&l.value.partialRange)?l.value.fixedStart&&(Re(e,a.value[0])||_e(e,a.value[0]))?[a.value[0],e]:l.value.fixedEnd&&(Ce(e,a.value[1])||_e(e,a.value[1]))?[e,a.value[1]]:(o("invalid-fixed-range",e),a.value):[],Tl=({multiCalendars:e,highlight:a,propDates:o,calendars:l,modelValue:t,props:v,filters:i,year:c,month:C,emit:T})=>{const g=H(()=>Nt(v.yearRange,v.locale,v.reverseYears)),p=U([!1]),b=H(()=>(I,O)=>{const W=Me(Xe(new Date),{month:C.value(I),year:c.value(I)});return gl(W,o.value.maxDate,o.value.minDate,v.preventMinMaxNavigation,O)}),P=()=>{for(let I=0;I<e.value.count;I++)if(I===0)l.value[I]=l.value[0];else{const O=Me(N(),l.value[I-1]);l.value[I]={month:ge(O),year:ye(ul(O,1))}}},D=I=>{if(!I)return P();const O=Me(N(),l.value[I]);return l.value[0].year=ye(il(O,e.value.count-1)),P()},M=I=>v.focusStartDate?I[0]:I[1]?I[1]:I[0],j=()=>{if(t.value){const I=Array.isArray(t.value)?M(t.value):t.value;l.value[0]={month:ge(I),year:ye(I)}}};qe(()=>{j(),e.value.count&&P()});const X=(I,O)=>{l.value[O].year=I,e.value.count&&!e.value.solo&&D(O)},J=H(()=>I=>Pa(g.value,O=>{var W;const Z=c.value(I)===O.value,ae=za(O.value,Ya(o.value.minDate),Ya(o.value.maxDate))||((W=i.value.years)==null?void 0:W.includes(c.value(I))),ne=Et(a.value,O.value);return{active:Z,disabled:ae,highlighted:ne}})),k=(I,O)=>{X(I,O),L(O)},Y=(I,O=!1)=>{if(!b.value(I,O)){const W=O?c.value(I)+1:c.value(I)-1;X(W,I)}},L=(I,O=!1,W)=>{O||T("reset-flow"),W!==void 0?p.value[I]=W:p.value[I]=!p.value[I],p.value||T("overlay-closed")};return{isDisabled:b,groupedYears:J,showYearPicker:p,selectYear:X,toggleYearPicker:L,handleYearSelect:k,handleYear:Y}},Qn=(e,a)=>{const{defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,defaultedRange:i,defaultedHighlight:c,propDates:C,defaultedTz:T,defaultedFilters:g,defaultedMultiDates:p}=xe(e),{modelValue:b,year:P,month:D,calendars:M}=ja(e,a),j=H(()=>dl(e.formatLocale,e.locale,e.monthNameFormat)),X=U(null),{checkMinMaxRange:J}=ba(e),{selectYear:k,groupedYears:Y,showYearPicker:L,toggleYearPicker:I,handleYearSelect:O,handleYear:W,isDisabled:Z}=Tl({modelValue:b,multiCalendars:o,highlight:c,calendars:M,year:P,propDates:C,month:D,filters:g,props:e,emit:a});qe(()=>{e.startDate&&(b.value&&e.focusStartDate||!b.value)&&k(ye(N(e.startDate)),0)});const ae=n=>n?{month:ge(n),year:ye(n)}:{month:null,year:null},ne=()=>b.value?Array.isArray(b.value)?b.value.map(n=>ae(n)):ae(b.value):ae(),S=(n,r)=>{const w=M.value[n],R=ne();return Array.isArray(R)?R.some(fe=>fe.year===(w==null?void 0:w.year)&&fe.month===r):(w==null?void 0:w.year)===R.year&&r===R.month},B=(n,r,w)=>{var R,fe;const Ae=ne();return Array.isArray(Ae)?P.value(r)===((R=Ae[w])==null?void 0:R.year)&&n===((fe=Ae[w])==null?void 0:fe.month):!1},ee=(n,r)=>{if(i.value.enabled){const w=ne();if(Array.isArray(b.value)&&Array.isArray(w)){const R=B(n,r,0)||B(n,r,1),fe=ia(Xe(N()),n,P.value(r));return nt(b.value,X.value,fe)&&!R}return!1}return!1},s=H(()=>n=>Pa(j.value,r=>{var w;const R=S(n,r.value),fe=za(r.value,ml(P.value(n),C.value.minDate),yl(P.value(n),C.value.maxDate))||cn(C.value.disabledDates,P.value(n)).includes(r.value)||((w=g.value.months)==null?void 0:w.includes(r.value)),Ae=ee(r.value,n),f=_l(c.value,r.value,P.value(n));return{active:R,disabled:fe,isBetween:Ae,highlighted:f}})),u=(n,r)=>ia(Xe(N()),n,P.value(r)),$=(n,r)=>{const w=b.value?b.value:Xe(new Date);b.value=ia(w,n,P.value(r)),a("auto-apply"),a("update-flow-step")},q=(n,r)=>{const w=u(n,r);i.value.fixedEnd||i.value.fixedStart?b.value=Ml(w,b,a,i):b.value?J(w,b.value)&&(b.value=Ft(b,u(n,r),a)):b.value=[u(n,r)],it(b.value,a,e.autoApply,e.modelAuto)},te=(n,r)=>{Lt(u(n,r),b,p.value.limit),a("auto-apply",!0)},z=(n,r)=>(M.value[r].month=n,_(r,M.value[r].year,n),p.value.enabled?te(n,r):i.value.enabled?q(n,r):$(n,r)),y=(n,r)=>{k(n,r),_(r,n,null)},_=(n,r,w)=>{let R=w;if(!R&&R!==0){const fe=ne();R=Array.isArray(fe)?fe[n].month:fe.month}a("update-month-year",{instance:n,year:r,month:R})};return{groupedMonths:s,groupedYears:Y,year:P,isDisabled:Z,defaultedMultiCalendars:o,defaultedAriaLabels:l,defaultedTransitions:t,defaultedConfig:v,showYearPicker:L,modelValue:b,presetDate:(n,r)=>{Dl({value:n,modelValue:b,range:i.value.enabled,timezone:r?void 0:T.value.timezone}),a("auto-apply")},setHoverDate:(n,r)=>{X.value=u(n,r)},selectMonth:z,selectYear:y,toggleYearPicker:I,handleYearSelect:O,handleYear:W,getModelMonthYear:ne}},Un=Ve({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Ze},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range"],setup(e,{expose:a,emit:o}){const l=o,t=$a(),v=Ke(t,"yearMode"),i=e;qe(()=>{i.shadow||l("mount",null)});const{groupedMonths:c,groupedYears:C,year:T,isDisabled:g,defaultedMultiCalendars:p,defaultedConfig:b,showYearPicker:P,modelValue:D,presetDate:M,setHoverDate:j,selectMonth:X,selectYear:J,toggleYearPicker:k,handleYearSelect:Y,handleYear:L,getModelMonthYear:I}=Qn(i,l);return a({getSidebarProps:()=>({modelValue:D,year:T,getModelMonthYear:I,selectMonth:X,selectYear:J,handleYear:L}),presetDate:M,toggleYearPicker:O=>k(0,O)}),(O,W)=>(A(),we(ut,{"multi-calendars":d(p).count,collapse:O.collapse,stretch:""},{default:he(({instance:Z})=>[O.$slots["month-year"]?le(O.$slots,"month-year",Pe(Be({key:0},{year:d(T),months:d(c)(Z),years:d(C)(Z),selectMonth:d(X),selectYear:d(J),instance:Z}))):(A(),we(Wa,{key:1,items:d(c)(Z),"arrow-navigation":O.arrowNavigation,"is-last":O.autoApply&&!d(b).keepActionRow,"esc-close":O.escClose,height:d(b).modeHeight,config:O.config,"no-overlay-focus":!!(O.noOverlayFocus||O.textInput),"use-relative":"",type:"month",onSelected:ae=>d(X)(ae,Z),onHoverValue:ae=>d(j)(ae,Z)},{header:he(()=>[Ge(Al,Be(O.$props,{items:d(C)(Z),instance:Z,"show-year-picker":d(P)[Z],year:d(T)(Z),"is-disabled":ae=>d(g)(Z,ae),onHandleYear:ae=>d(L)(Z,ae),onYearSelect:ae=>d(Y)(ae,Z),onToggleYearPicker:ae=>d(k)(Z,ae==null?void 0:ae.flow,ae==null?void 0:ae.show)}),ze({_:2},[$e(d(v),(ae,ne)=>({name:ae,fn:he(S=>[le(O.$slots,ae,Pe(He(S)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),Zn=(e,a)=>{const{modelValue:o}=ja(e,a),l=U(null),{defaultedHighlight:t,defaultedMultiDates:v,defaultedFilters:i,defaultedRange:c,propDates:C}=xe(e),T=U();qe(()=>{e.startDate&&(o.value&&e.focusStartDate||!o.value)&&(T.value=ye(N(e.startDate)))});const g=D=>Array.isArray(o.value)?o.value.some(M=>ye(M)===D):o.value?ye(o.value)===D:!1,p=D=>c.value.enabled&&Array.isArray(o.value)?nt(o.value,l.value,P(D)):!1,b=H(()=>Pa(Nt(e.yearRange,e.locale,e.reverseYears),D=>{const M=g(D.value),j=za(D.value,Ya(C.value.minDate),Ya(C.value.maxDate))||i.value.years.includes(D.value),X=p(D.value)&&!M,J=Et(t.value,D.value);return{active:M,disabled:j,isBetween:X,highlighted:J}})),P=D=>ta(Xe(new Date),D);return{groupedYears:b,modelValue:o,focusYear:T,setHoverValue:D=>{l.value=ta(Xe(new Date),D)},selectYear:D=>{var M;if(a("update-month-year",{instance:0,year:D}),v.value.enabled)return o.value?Array.isArray(o.value)&&(((M=o.value)==null?void 0:M.map(j=>ye(j))).includes(D)?o.value=o.value.filter(j=>ye(j)!==D):o.value.push(ta(je(N()),D))):o.value=[ta(je(N()),D)],a("auto-apply",!0);if(c.value.enabled)return o.value=Ft(o,P(D),a),it(o.value,a,e.autoApply,e.modelAuto);o.value=P(D),a("auto-apply")}}},er=Ve({compatConfig:{MODE:3},__name:"YearPicker",props:{...Ze},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:a,emit:o}){const l=o,t=e,{groupedYears:v,modelValue:i,focusYear:c,selectYear:C,setHoverValue:T}=Zn(t,l),{defaultedConfig:g}=xe(t);return a({getSidebarProps:()=>({modelValue:i,selectYear:C})}),(p,b)=>(A(),F("div",null,[p.$slots["month-year"]?le(p.$slots,"month-year",Pe(Be({key:0},{years:d(v),selectYear:d(C)}))):(A(),we(Wa,{key:1,items:d(v),"is-last":p.autoApply&&!d(g).keepActionRow,height:d(g).modeHeight,config:p.config,"no-overlay-focus":!!(p.noOverlayFocus||p.textInput),"focus-value":d(c),type:"year","use-relative":"",onSelected:d(C),onHoverValue:d(T)},ze({_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:he(({item:P})=>[le(p.$slots,"year-overlay-value",{text:P.text,value:P.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),ar={key:0,class:"dp__time_input"},tr=["aria-label","onKeydown","onClick"],lr=ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),nr=ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),rr=["aria-label","disabled","onKeydown","onClick"],or=["aria-label","onKeydown","onClick"],ur=ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),ir=ce("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),sr={key:0},dr=["aria-label","onKeydown"],cr=Ve({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ze},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:o}){const l=o,t=e,{setTimePickerElements:v,setTimePickerBackRef:i}=ga(),{defaultedAriaLabels:c,defaultedTransitions:C,defaultedFilters:T,defaultedConfig:g,defaultedRange:p}=xe(t),{transitionName:b,showTransition:P}=Ka(C),D=qa({hours:!1,minutes:!1,seconds:!1}),M=U("AM"),j=U(null),X=U([]);qe(()=>{l("mounted")});const J=f=>Me(new Date,{hours:f.hours,minutes:f.minutes,seconds:t.enableSeconds?f.seconds:0,milliseconds:0}),k=H(()=>f=>s(f,t[f])||L(f,t[f])),Y=H(()=>({hours:t.hours,minutes:t.minutes,seconds:t.seconds})),L=(f,x)=>p.value.enabled&&!p.value.disableTimeRangeValidation?!t.validateTime(f,x):!1,I=(f,x)=>{if(p.value.enabled&&!p.value.disableTimeRangeValidation){const ie=x?+t[`${f}Increment`]:-+t[`${f}Increment`],m=t[f]+ie;return!t.validateTime(f,m)}return!1},O=H(()=>f=>!te(+t[f]+ +t[`${f}Increment`],f)||I(f,!0)),W=H(()=>f=>!te(+t[f]-+t[`${f}Increment`],f)||I(f,!1)),Z=(f,x)=>nl(Me(N(),f),x),ae=(f,x)=>Gl(Me(N(),f),x),ne=H(()=>({dp__time_col:!0,dp__time_col_block:!t.timePickerInline,dp__time_col_reg_block:!t.enableSeconds&&t.is24&&!t.timePickerInline,dp__time_col_reg_inline:!t.enableSeconds&&t.is24&&t.timePickerInline,dp__time_col_reg_with_button:!t.enableSeconds&&!t.is24,dp__time_col_sec:t.enableSeconds&&t.is24,dp__time_col_sec_with_button:t.enableSeconds&&!t.is24})),S=H(()=>{const f=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return t.enableSeconds?f.concat([{type:"",separator:!0},{type:"seconds"}]):f}),B=H(()=>S.value.filter(f=>!f.separator)),ee=H(()=>f=>{if(f==="hours"){const x=r(+t.hours);return{text:x<10?`0${x}`:`${x}`,value:x}}return{text:t[f]<10?`0${t[f]}`:`${t[f]}`,value:t[f]}}),s=(f,x)=>{var ie;if(!t.disabledTimesConfig)return!1;const m=t.disabledTimesConfig(t.order,f==="hours"?x:void 0);return m[f]?!!((ie=m[f])!=null&&ie.includes(x)):!0},u=f=>{const x=t.is24?24:12,ie=f==="hours"?x:60,m=+t[`${f}GridIncrement`],V=f==="hours"&&!t.is24?m:0,ue=[];for(let ve=V;ve<ie;ve+=m)ue.push({value:ve,text:ve<10?`0${ve}`:`${ve}`});return f==="hours"&&!t.is24&&ue.push({value:0,text:"12"}),Pa(ue,ve=>({active:!1,disabled:T.value.times[f].includes(ve.value)||!te(ve.value,f)||s(f,ve.value)||L(f,ve.value)}))},$=f=>f>=0?f:59,q=f=>f>=0?f:23,te=(f,x)=>{const ie=t.minTime?J(ft(t.minTime)):null,m=t.maxTime?J(ft(t.maxTime)):null,V=J(ft(Y.value,x,x==="minutes"||x==="seconds"?$(f):q(f)));return ie&&m?(La(V,m)||Sa(V,m))&&(Fa(V,ie)||Sa(V,ie)):ie?Fa(V,ie)||Sa(V,ie):m?La(V,m)||Sa(V,m):!0},z=f=>t[`no${f[0].toUpperCase()+f.slice(1)}Overlay`],y=f=>{z(f)||(D[f]=!D[f],D[f]||l("overlay-closed"))},_=f=>f==="hours"?Ue:f==="minutes"?na:Ra,n=(f,x=!0)=>{const ie=x?Z:ae,m=x?+t[`${f}Increment`]:-+t[`${f}Increment`];te(+t[f]+m,f)&&l(`update:${f}`,_(f)(ie({[f]:+t[f]},{[f]:+t[`${f}Increment`]})))},r=f=>t.is24?f:(f>=12?M.value="PM":M.value="AM",Ql(f)),w=()=>{M.value==="PM"?(M.value="AM",l("update:hours",t.hours-12)):(M.value="PM",l("update:hours",t.hours+12)),l("am-pm-change",M.value)},R=f=>{D[f]=!0},fe=(f,x,ie)=>{if(f&&t.arrowNavigation){Array.isArray(X.value[x])?X.value[x][ie]=f:X.value[x]=[f];const m=X.value.reduce((V,ue)=>ue.map((ve,re)=>[...V[re]||[],ue[re]]),[]);i(t.closeTimePickerBtn),j.value&&(m[1]=m[1].concat(j.value)),v(m,t.order)}},Ae=(f,x)=>(y(f),f==="hours"&&!t.is24?l(`update:${f}`,M.value==="PM"?x+12:x):l(`update:${f}`,x));return a({openChildCmp:R}),(f,x)=>{var ie;return f.disabled?K("",!0):(A(),F("div",ar,[(A(!0),F(be,null,$e(S.value,(m,V)=>{var ue,ve,re;return A(),F("div",{key:V,class:ke(ne.value)},[m.separator?(A(),F(be,{key:0},[ca(" : ")],64)):(A(),F(be,{key:1},[ce("button",{ref_for:!0,ref:Q=>fe(Q,V,0),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!f.timePickerInline,dp__inc_dec_button_inline:f.timePickerInline,dp__tp_inline_btn_top:f.timePickerInline,dp__inc_dec_button_disabled:O.value(m.type)}),"aria-label":(ue=d(c))==null?void 0:ue.incrementValue(m.type),tabindex:"0",onKeydown:[pe(De(Q=>n(m.type),["prevent"]),["enter"]),pe(De(Q=>n(m.type),["prevent"]),["space"])],onClick:Q=>n(m.type)},[t.timePickerInline?(A(),F(be,{key:1},[lr,nr],64)):(A(),F(be,{key:0},[f.$slots["arrow-up"]?le(f.$slots,"arrow-up",{key:0}):K("",!0),f.$slots["arrow-up"]?K("",!0):(A(),we(d(Ot),{key:1}))],64))],42,tr),ce("button",{ref_for:!0,ref:Q=>fe(Q,V,1),type:"button","aria-label":(ve=d(c))==null?void 0:ve.openTpOverlay(m.type),class:ke({dp__time_display:!0,dp__time_display_block:!f.timePickerInline,dp__time_display_inline:f.timePickerInline,"dp--time-invalid":k.value(m.type),"dp--time-overlay-btn":!k.value(m.type)}),disabled:z(m.type),tabindex:"0",onKeydown:[pe(De(Q=>y(m.type),["prevent"]),["enter"]),pe(De(Q=>y(m.type),["prevent"]),["space"])],onClick:Q=>y(m.type)},[f.$slots[m.type]?le(f.$slots,m.type,{key:0,text:ee.value(m.type).text,value:ee.value(m.type).value}):K("",!0),f.$slots[m.type]?K("",!0):(A(),F(be,{key:1},[ca(Le(ee.value(m.type).text),1)],64))],42,rr),ce("button",{ref_for:!0,ref:Q=>fe(Q,V,2),type:"button",class:ke({dp__btn:!0,dp__inc_dec_button:!f.timePickerInline,dp__inc_dec_button_inline:f.timePickerInline,dp__tp_inline_btn_bottom:f.timePickerInline,dp__inc_dec_button_disabled:W.value(m.type)}),"aria-label":(re=d(c))==null?void 0:re.decrementValue(m.type),tabindex:"0",onKeydown:[pe(De(Q=>n(m.type,!1),["prevent"]),["enter"]),pe(De(Q=>n(m.type,!1),["prevent"]),["space"])],onClick:Q=>n(m.type,!1)},[t.timePickerInline?(A(),F(be,{key:1},[ur,ir],64)):(A(),F(be,{key:0},[f.$slots["arrow-down"]?le(f.$slots,"arrow-down",{key:0}):K("",!0),f.$slots["arrow-down"]?K("",!0):(A(),we(d(It),{key:1}))],64))],42,or)],64))],2)}),128)),f.is24?K("",!0):(A(),F("div",sr,[f.$slots["am-pm-button"]?le(f.$slots,"am-pm-button",{key:0,toggle:w,value:M.value}):K("",!0),f.$slots["am-pm-button"]?K("",!0):(A(),F("button",{key:1,ref_key:"amPmButton",ref:j,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(ie=d(c))==null?void 0:ie.amPmButton,tabindex:"0",onClick:w,onKeydown:[pe(De(w,["prevent"]),["enter"]),pe(De(w,["prevent"]),["space"])]},Le(M.value),41,dr))])),(A(!0),F(be,null,$e(B.value,(m,V)=>(A(),we(Oa,{key:V,name:d(b)(D[m.type]),css:d(P)},{default:he(()=>[D[m.type]?(A(),we(Wa,{key:0,items:u(m.type),"is-last":f.autoApply&&!d(g).keepActionRow,"esc-close":f.escClose,type:m.type,"text-input":f.textInput,config:f.config,"arrow-navigation":f.arrowNavigation,"aria-labels":f.ariaLabels,onSelected:ue=>Ae(m.type,ue),onToggle:ue=>y(m.type),onResetFlow:x[0]||(x[0]=ue=>f.$emit("reset-flow"))},ze({"button-icon":he(()=>[f.$slots["clock-icon"]?le(f.$slots,"clock-icon",{key:0}):K("",!0),f.$slots["clock-icon"]?K("",!0):(A(),we(lt(f.timePickerInline?d(Ia):d(Yt)),{key:1}))]),_:2},[f.$slots[`${m.type}-overlay-value`]?{name:"item",fn:he(({item:ue})=>[le(f.$slots,`${m.type}-overlay-value`,{text:ue.text,value:ue.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","onSelected","onToggle"])):K("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),vr={class:"dp--tp-wrap"},pr=["aria-label","tabindex"],mr=["tabindex"],yr=["aria-label"],$l=Ve({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...Ze},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:a,emit:o}){const l=o,t=e,{buildMatrix:v,setTimePicker:i}=ga(),c=$a(),{defaultedTransitions:C,defaultedAriaLabels:T,defaultedTextInput:g,defaultedConfig:p,defaultedRange:b}=xe(t),{transitionName:P,showTransition:D}=Ka(C),{hideNavigationButtons:M}=rt(),j=U(null),X=U(null),J=U([]),k=U(null);qe(()=>{l("mount"),!t.timePicker&&t.arrowNavigation?v([Oe(j.value)],"time"):i(!0,t.timePicker)});const Y=H(()=>b.value.enabled&&t.modelAuto?cl(t.internalModelValue):!0),L=U(!1),I=u=>({hours:Array.isArray(t.hours)?t.hours[u]:t.hours,minutes:Array.isArray(t.minutes)?t.minutes[u]:t.minutes,seconds:Array.isArray(t.seconds)?t.seconds[u]:t.seconds}),O=H(()=>{const u=[];if(b.value.enabled)for(let $=0;$<2;$++)u.push(I($));else u.push(I(0));return u}),W=(u,$=!1,q="")=>{$||l("reset-flow"),L.value=u,l(u?"overlay-opened":"overlay-closed"),t.arrowNavigation&&i(u),da(()=>{q!==""&&J.value[0]&&J.value[0].openChildCmp(q)})},Z=H(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:t.autoApply&&!p.value.keepActionRow})),ae=Ke(c,"timePicker"),ne=(u,$,q)=>b.value.enabled?$===0?[u,O.value[1][q]]:[O.value[0][q],u]:u,S=u=>{l("update:hours",u)},B=u=>{l("update:minutes",u)},ee=u=>{l("update:seconds",u)},s=()=>{if(k.value&&!g.value.enabled&&!t.noOverlayFocus){const u=vl(k.value);u&&u.focus({preventScroll:!0})}};return a({toggleTimePicker:W}),(u,$)=>{var q;return A(),F("div",vr,[!u.timePicker&&!u.timePickerInline?Qa((A(),F("button",{key:0,ref_key:"openTimePickerBtn",ref:j,type:"button",class:ke(Z.value),"aria-label":(q=d(T))==null?void 0:q.openTimePicker,tabindex:u.noOverlayFocus?void 0:0,onKeydown:[$[0]||($[0]=pe(te=>W(!0),["enter"])),$[1]||($[1]=pe(te=>W(!0),["space"]))],onClick:$[2]||($[2]=te=>W(!0))},[u.$slots["clock-icon"]?le(u.$slots,"clock-icon",{key:0}):K("",!0),u.$slots["clock-icon"]?K("",!0):(A(),we(d(Yt),{key:1}))],42,pr)),[[Ua,!d(M)(u.hideNavigation,"time")]]):K("",!0),Ge(Oa,{name:d(P)(L.value),css:d(D)&&!u.timePickerInline},{default:he(()=>{var te;return[L.value||u.timePicker||u.timePickerInline?(A(),F("div",{key:0,ref_key:"overlayRef",ref:k,class:ke({dp__overlay:!u.timePickerInline,"dp--overlay-absolute":!t.timePicker&&!u.timePickerInline,"dp--overlay-relative":t.timePicker}),style:Qe(u.timePicker?{height:`${d(p).modeHeight}px`}:void 0),tabindex:u.timePickerInline?void 0:0},[ce("div",{class:ke(u.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[u.$slots["time-picker-overlay"]?le(u.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:S,setMinutes:B,setSeconds:ee}):K("",!0),u.$slots["time-picker-overlay"]?K("",!0):(A(),F("div",{key:1,class:ke(u.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(A(!0),F(be,null,$e(O.value,(z,y)=>Qa((A(),we(cr,Be({key:y},{...u.$props,order:y,hours:z.hours,minutes:z.minutes,seconds:z.seconds,closeTimePickerBtn:X.value,disabledTimesConfig:e.disabledTimesConfig,disabled:y===0?u.fixedStart:u.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:J,"validate-time":(_,n)=>e.validateTime(_,ne(n,y,_)),"onUpdate:hours":_=>S(ne(_,y,"hours")),"onUpdate:minutes":_=>B(ne(_,y,"minutes")),"onUpdate:seconds":_=>ee(ne(_,y,"seconds")),onMounted:s,onOverlayClosed:s,onAmPmChange:$[3]||($[3]=_=>u.$emit("am-pm-change",_))}),ze({_:2},[$e(d(ae),(_,n)=>({name:_,fn:he(r=>[le(u.$slots,_,Pe(He(r)))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Ua,y===0?!0:Y.value]])),128))],2)),!u.timePicker&&!u.timePickerInline?Qa((A(),F("button",{key:2,ref_key:"closeTimePickerBtn",ref:X,type:"button",class:ke(Z.value),"aria-label":(te=d(T))==null?void 0:te.closeTimePicker,tabindex:"0",onKeydown:[$[4]||($[4]=pe(z=>W(!1),["enter"])),$[5]||($[5]=pe(z=>W(!1),["space"]))],onClick:$[6]||($[6]=z=>W(!1))},[u.$slots["calendar-icon"]?le(u.$slots,"calendar-icon",{key:0}):K("",!0),u.$slots["calendar-icon"]?K("",!0):(A(),we(d(Ia),{key:1}))],42,yr)),[[Ua,!d(M)(u.hideNavigation,"time")]]):K("",!0)],2)],14,mr)):K("",!0)]}),_:3},8,["name","css"])])}}}),xl=(e,a,o,l)=>{const{defaultedRange:t}=xe(e),v=(k,Y)=>Array.isArray(a[k])?a[k][Y]:a[k],i=k=>e.enableSeconds?Array.isArray(a.seconds)?a.seconds[k]:a.seconds:0,c=(k,Y)=>k?Y!==void 0?fa(k,v("hours",Y),v("minutes",Y),i(Y)):fa(k,a.hours,a.minutes,i()):Ct(N(),i(Y)),C=(k,Y)=>{a[k]=Y},T=H(()=>e.modelAuto&&t.value.enabled?Array.isArray(o.value)?o.value.length>1:!1:t.value.enabled),g=(k,Y)=>{const L=Object.fromEntries(Object.keys(a).map(I=>I===k?[I,Y]:[I,a[I]].slice()));if(T.value&&!t.value.disableTimeRangeValidation){const I=W=>o.value?fa(o.value[W],L.hours[W],L.minutes[W],L.seconds[W]):null,O=W=>St(o.value[W],0);return!(_e(I(0),I(1))&&(Fa(I(0),O(1))||La(I(1),O(0))))}return!0},p=(k,Y)=>{g(k,Y)&&(C(k,Y),l&&l())},b=k=>{p("hours",k)},P=k=>{p("minutes",k)},D=k=>{p("seconds",k)},M=(k,Y,L,I)=>{Y&&b(k),!Y&&!L&&P(k),L&&D(k),o.value&&I(o.value)},j=k=>{if(k){const Y=Array.isArray(k),L=Y?[+k[0].hours,+k[1].hours]:+k.hours,I=Y?[+k[0].minutes,+k[1].minutes]:+k.minutes,O=Y?[+k[0].seconds,+k[1].seconds]:+k.seconds;C("hours",L),C("minutes",I),e.enableSeconds&&C("seconds",O)}},X=(k,Y)=>{const L={hours:Array.isArray(a.hours)?a.hours[k]:a.hours,disabledArr:[]};return(Y||Y===0)&&(L.hours=Y),Array.isArray(e.disabledTimes)&&(L.disabledArr=t.value.enabled&&Array.isArray(e.disabledTimes[k])?e.disabledTimes[k]:e.disabledTimes),L},J=H(()=>(k,Y)=>{var L;if(Array.isArray(e.disabledTimes)){const{disabledArr:I,hours:O}=X(k,Y),W=I.filter(Z=>+Z.hours===O);return((L=W[0])==null?void 0:L.minutes)==="*"?{hours:[O],minutes:void 0,seconds:void 0}:{hours:[],minutes:(W==null?void 0:W.map(Z=>+Z.minutes))??[],seconds:(W==null?void 0:W.map(Z=>Z.seconds?+Z.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:C,updateHours:b,updateMinutes:P,updateSeconds:D,getSetDateTime:c,updateTimeValues:M,getSecondsValue:i,assignStartTime:j,validateTime:g,disabledTimesConfig:J}},fr=(e,a)=>{const{modelValue:o,time:l}=ja(e,a),{defaultedStartTime:t,defaultedRange:v}=xe(e),{updateTimeValues:i,getSetDateTime:c,setTime:C,assignStartTime:T,disabledTimesConfig:g,validateTime:p}=xl(e,l,o),b=k=>{const{hours:Y,minutes:L,seconds:I}=k;return{hours:+Y,minutes:+L,seconds:I?+I:0}},P=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const Y=b(e.startTime[0]),L=b(e.startTime[1]);return[Me(N(),Y),Me(N(),L)]}const k=b(e.startTime);return Me(N(),k)}return v.value.enabled?[null,null]:null},D=()=>{if(v.value.enabled){const[k,Y]=P();o.value=[c(k,0),c(Y,1)]}else o.value=c(P())},M=k=>Array.isArray(k)?[Ma(N(k[0])),Ma(N(k[1]))]:[Ma(k??N())],j=(k,Y,L)=>{C("hours",k),C("minutes",Y),C("seconds",e.enableSeconds?L:0)},X=()=>{const[k,Y]=M(o.value);return v.value.enabled?j([k.hours,Y.hours],[k.minutes,Y.minutes],[k.seconds,Y.seconds]):j(k.hours,k.minutes,k.seconds)};qe(()=>{if(!e.shadow)return T(t.value),o.value?X():D()});const J=()=>{Array.isArray(o.value)?o.value=o.value.map((k,Y)=>k&&c(k,Y)):o.value=c(o.value),a("time-update")};return{modelValue:o,time:l,disabledTimesConfig:g,updateTime:(k,Y=!0,L=!1)=>{i(k,Y,L,J)},validateTime:p}},hr=Ve({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Ze},emits:["update:internal-model-value","time-update","am-pm-change"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=$a(),i=Ke(v,"timePicker"),{time:c,modelValue:C,disabledTimesConfig:T,updateTime:g,validateTime:p}=fr(t,l);return a({getSidebarProps:()=>({modelValue:C,time:c,updateTime:g})}),(b,P)=>(A(),we(ut,{"multi-calendars":0,stretch:""},{default:he(()=>[Ge($l,Be(b.$props,{hours:d(c).hours,minutes:d(c).minutes,seconds:d(c).seconds,"internal-model-value":b.internalModelValue,"disabled-times-config":d(T),"validate-time":d(p),"onUpdate:hours":P[0]||(P[0]=D=>d(g)(D)),"onUpdate:minutes":P[1]||(P[1]=D=>d(g)(D,!1)),"onUpdate:seconds":P[2]||(P[2]=D=>d(g)(D,!1,!0)),onAmPmChange:P[3]||(P[3]=D=>b.$emit("am-pm-change",D))}),ze({_:2},[$e(d(i),(D,M)=>({name:D,fn:he(j=>[le(b.$slots,D,Pe(He(j)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),gr={class:"dp__month_year_row"},br=["aria-label","onClick","onKeydown"],_r=Ve({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Ze},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(e,{expose:a,emit:o}){const l=o,t=e,{defaultedTransitions:v,defaultedAriaLabels:i,defaultedMultiCalendars:c,defaultedFilters:C,defaultedConfig:T,defaultedHighlight:g,propDates:p}=xe(t),{transitionName:b,showTransition:P}=Ka(v),{buildMatrix:D}=ga(),{handleMonthYearChange:M,isDisabled:j,updateMonthYear:X}=Rn(t,l),{showLeftIcon:J,showRightIcon:k}=rt(),Y=U(!1),L=U(!1),I=U([null,null,null,null]);qe(()=>{l("mount")});const O=y=>({get:()=>t[y],set:_=>{const n=y===Je.month?Je.year:Je.month;l("update-month-year",{[y]:_,[n]:t[n]}),y===Je.month?s(!0):u(!0)}}),W=H(O(Je.month)),Z=H(O(Je.year)),ae=H(()=>y=>({month:t.month,year:t.year,items:y===Je.month?t.months:t.years,instance:t.instance,updateMonthYear:X,toggle:y===Je.month?s:u})),ne=H(()=>t.months.find(_=>_.value===t.month)||{text:"",value:0}),S=H(()=>Pa(t.months,y=>{const _=t.month===y.value,n=za(y.value,ml(t.year,p.value.minDate),yl(t.year,p.value.maxDate))||C.value.months.includes(y.value),r=_l(g.value,y.value,t.year);return{active:_,disabled:n,highlighted:r}})),B=H(()=>Pa(t.years,y=>{const _=t.year===y.value,n=za(y.value,Ya(p.value.minDate),Ya(p.value.maxDate))||C.value.years.includes(y.value),r=Et(g.value,y.value);return{active:_,disabled:n,highlighted:r}})),ee=(y,_)=>{_!==void 0?y.value=_:y.value=!y.value,y.value||l("overlay-closed")},s=(y=!1,_)=>{$(y),ee(Y,_)},u=(y=!1,_)=>{$(y),ee(L,_)},$=y=>{y||l("reset-flow")},q=(y,_)=>{t.arrowNavigation&&(I.value[_]=Oe(y),D(I.value,"monthYear"))},te=H(()=>{var y,_;return[{type:Je.month,index:1,toggle:s,modelValue:W.value,updateModelValue:n=>W.value=n,text:ne.value.text,showSelectionGrid:Y.value,items:S.value,ariaLabel:(y=i.value)==null?void 0:y.openMonthsOverlay},{type:Je.year,index:2,toggle:u,modelValue:Z.value,updateModelValue:n=>Z.value=n,text:pl(t.year,t.locale),showSelectionGrid:L.value,items:B.value,ariaLabel:(_=i.value)==null?void 0:_.openYearsOverlay}]}),z=H(()=>t.disableYearSelect?[te.value[0]]:t.yearFirst?[...te.value].reverse():te.value);return a({toggleMonthPicker:s,toggleYearPicker:u,handleMonthYearChange:M}),(y,_)=>{var n,r,w;return A(),F("div",gr,[y.$slots["month-year"]?le(y.$slots,"month-year",Pe(Be({key:0},{month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:d(X),handleMonthYearChange:d(M),instance:e.instance}))):(A(),F(be,{key:1},[d(J)(d(c),e.instance)&&!y.vertical?(A(),we(Ea,{key:0,"aria-label":(n=d(i))==null?void 0:n.prevMonth,disabled:d(j)(!1),onActivate:_[0]||(_[0]=R=>d(M)(!1,!0)),onSetRef:_[1]||(_[1]=R=>q(R,0))},{default:he(()=>[y.$slots["arrow-left"]?le(y.$slots,"arrow-left",{key:0}):K("",!0),y.$slots["arrow-left"]?K("",!0):(A(),we(d(Rt),{key:1}))]),_:3},8,["aria-label","disabled"])):K("",!0),ce("div",{class:ke(["dp__month_year_wrap",{dp__year_disable_select:y.disableYearSelect}])},[(A(!0),F(be,null,$e(z.value,(R,fe)=>(A(),F(be,{key:R.type},[ce("button",{ref_for:!0,ref:Ae=>q(Ae,fe+1),type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":R.ariaLabel,onClick:R.toggle,onKeydown:[pe(De(R.toggle,["prevent"]),["enter"]),pe(De(R.toggle,["prevent"]),["space"])]},[y.$slots[R.type]?le(y.$slots,R.type,{key:0,text:R.text,value:t[R.type]}):K("",!0),y.$slots[R.type]?K("",!0):(A(),F(be,{key:1},[ca(Le(R.text),1)],64))],40,br),Ge(Oa,{name:d(b)(R.showSelectionGrid),css:d(P)},{default:he(()=>[R.showSelectionGrid?(A(),we(Wa,{key:0,items:R.items,"arrow-navigation":y.arrowNavigation,"hide-navigation":y.hideNavigation,"is-last":y.autoApply&&!d(T).keepActionRow,"skip-button-ref":!1,config:y.config,type:R.type,"header-refs":[],"esc-close":y.escClose,"menu-wrap-ref":y.menuWrapRef,"text-input":y.textInput,"aria-labels":y.ariaLabels,onSelected:R.updateModelValue,onToggle:R.toggle},ze({"button-icon":he(()=>[y.$slots["calendar-icon"]?le(y.$slots,"calendar-icon",{key:0}):K("",!0),y.$slots["calendar-icon"]?K("",!0):(A(),we(d(Ia),{key:1}))]),_:2},[y.$slots[`${R.type}-overlay-value`]?{name:"item",fn:he(({item:Ae})=>[le(y.$slots,`${R.type}-overlay-value`,{text:Ae.text,value:Ae.value})]),key:"0"}:void 0,y.$slots[`${R.type}-overlay`]?{name:"overlay",fn:he(()=>[le(y.$slots,`${R.type}-overlay`,Pe(He(ae.value(R.type))))]),key:"1"}:void 0,y.$slots[`${R.type}-overlay-header`]?{name:"header",fn:he(()=>[le(y.$slots,`${R.type}-overlay-header`,{toggle:R.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","onSelected","onToggle"])):K("",!0)]),_:2},1032,["name","css"])],64))),128))],2),d(J)(d(c),e.instance)&&y.vertical?(A(),we(Ea,{key:1,"aria-label":(r=d(i))==null?void 0:r.prevMonth,disabled:d(j)(!1),onActivate:_[2]||(_[2]=R=>d(M)(!1,!0))},{default:he(()=>[y.$slots["arrow-up"]?le(y.$slots,"arrow-up",{key:0}):K("",!0),y.$slots["arrow-up"]?K("",!0):(A(),we(d(Ot),{key:1}))]),_:3},8,["aria-label","disabled"])):K("",!0),d(k)(d(c),e.instance)?(A(),we(Ea,{key:2,ref:"rightIcon",disabled:d(j)(!0),"aria-label":(w=d(i))==null?void 0:w.nextMonth,onActivate:_[3]||(_[3]=R=>d(M)(!0,!0)),onSetRef:_[4]||(_[4]=R=>q(R,y.disableYearSelect?2:3))},{default:he(()=>[y.$slots[y.vertical?"arrow-down":"arrow-right"]?le(y.$slots,y.vertical?"arrow-down":"arrow-right",{key:0}):K("",!0),y.$slots[y.vertical?"arrow-down":"arrow-right"]?K("",!0):(A(),we(lt(y.vertical?d(It):d(Pt)),{key:1}))]),_:3},8,["disabled","aria-label"])):K("",!0)],64))])}}}),wr=["aria-label"],kr={class:"dp__calendar_header",role:"row"},Ar={key:0,class:"dp__calendar_header_item",role:"gridcell"},Dr=["aria-label"],Mr=ce("div",{class:"dp__calendar_header_separator"},null,-1),Tr=["aria-label"],$r={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},xr={class:"dp__cell_inner"},Cr=["id","aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave","onMousedown"],Sr=Ve({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Ze},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:a,emit:o}){const l=o,t=e,{buildMultiLevelMatrix:v}=ga(),{defaultedTransitions:i,defaultedConfig:c,defaultedAriaLabels:C,defaultedMultiCalendars:T,defaultedWeekNumbers:g,defaultedMultiDates:p}=xe(t),b=U(null),P=U({bottom:"",left:"",transform:""}),D=U([]),M=U(null),j=U(!0),X=U(""),J=U({startX:0,endX:0,startY:0,endY:0}),k=U([]),Y=U({left:"50%"}),L=U(!1),I=H(()=>t.calendar?t.calendar(t.mappedDates):t.mappedDates),O=H(()=>t.dayNames?Array.isArray(t.dayNames)?t.dayNames:t.dayNames(t.locale,+t.weekStart):Xl(t.formatLocale,t.locale,+t.weekStart));qe(()=>{l("mount",{cmp:"calendar",refs:D}),c.value.noSwipe||M.value&&(M.value.addEventListener("touchstart",te,{passive:!1}),M.value.addEventListener("touchend",z,{passive:!1}),M.value.addEventListener("touchmove",y,{passive:!1})),t.monthChangeOnScroll&&M.value&&M.value.addEventListener("wheel",r,{passive:!1})});const W=x=>x?t.vertical?"vNext":"next":t.vertical?"vPrevious":"previous",Z=(x,ie)=>{if(t.transitions){const m=je(ia(N(),t.month,t.year));X.value=Re(je(ia(N(),x,ie)),m)?i.value[W(!0)]:i.value[W(!1)],j.value=!1,da(()=>{j.value=!0})}},ae=H(()=>({[t.calendarClassName]:!!t.calendarClassName})),ne=H(()=>x=>{const ie=Ul(x);return{dp__marker_dot:ie.type==="dot",dp__marker_line:ie.type==="line"}}),S=H(()=>x=>_e(x,b.value)),B=H(()=>({dp__calendar:!0,dp__calendar_next:T.value.count>0&&t.instance!==0})),ee=H(()=>x=>t.hideOffsetDates?x.current:!0),s=x=>la(x,"yyyy-MM-dd"),u=async(x,ie,m)=>{const V=Oe(D.value[ie][m]);if(V){const{width:ue,height:ve}=V.getBoundingClientRect();b.value=x.value;let re={left:`${ue/2}px`},Q=-50;if(await da(),k.value[0]){const{left:Fe,width:Ie}=k.value[0].getBoundingClientRect();Fe<0&&(re={left:"0"},Q=0,Y.value.left=`${ue/2}px`),window.innerWidth<Fe+Ie&&(re={right:"0"},Q=0,Y.value.left=`${Ie-ue/2}px`)}P.value={bottom:`${ve}px`,...re,transform:`translateX(${Q}%)`},l("tooltip-open",x.marker)}},$=async(x,ie,m)=>{var V,ue;if(L.value&&p.value.enabled&&p.value.dragSelect)return l("select-date",x);l("set-hover-date",x),(ue=(V=x.marker)==null?void 0:V.tooltip)!=null&&ue.length&&await u(x,ie,m)},q=x=>{b.value&&(b.value=null,P.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),l("tooltip-close",x.marker))},te=x=>{J.value.startX=x.changedTouches[0].screenX,J.value.startY=x.changedTouches[0].screenY},z=x=>{J.value.endX=x.changedTouches[0].screenX,J.value.endY=x.changedTouches[0].screenY,_()},y=x=>{t.vertical&&!t.inline&&x.preventDefault()},_=()=>{const x=t.vertical?"Y":"X";Math.abs(J.value[`start${x}`]-J.value[`end${x}`])>10&&l("handle-swipe",J.value[`start${x}`]>J.value[`end${x}`]?"right":"left")},n=(x,ie,m)=>{x&&(Array.isArray(D.value[ie])?D.value[ie][m]=x:D.value[ie]=[x]),t.arrowNavigation&&v(D.value,"calendar")},r=x=>{t.monthChangeOnScroll&&(x.preventDefault(),l("handle-scroll",x))},w=x=>g.value.type==="local"?Kl(x.value,{weekStartsOn:+t.weekStart}):g.value.type==="iso"?jl(x.value):typeof g.value.type=="function"?g.value.type(x.value):"",R=x=>{const ie=x[0];return g.value.hideOnOffsetDates?x.some(m=>m.current)?w(ie):"":w(ie)},fe=(x,ie)=>{p.value.enabled||(ya(x,c.value),l("select-date",ie))},Ae=x=>{ya(x,c.value)},f=x=>{p.value.enabled&&p.value.dragSelect?(L.value=!0,l("select-date",x)):p.value.enabled&&l("select-date",x)};return a({triggerTransition:Z}),(x,ie)=>{var m;return A(),F("div",{class:ke(B.value)},[ce("div",{ref_key:"calendarWrapRef",ref:M,role:"grid",class:ke(ae.value),"aria-label":(m=d(C))==null?void 0:m.calendarWrap},[ce("div",kr,[x.weekNumbers?(A(),F("div",Ar,Le(x.weekNumName),1)):K("",!0),(A(!0),F(be,null,$e(O.value,(V,ue)=>{var ve,re;return A(),F("div",{key:ue,class:"dp__calendar_header_item",role:"gridcell","aria-label":(re=(ve=d(C))==null?void 0:ve.weekDay)==null?void 0:re.call(ve,ue)},[x.$slots["calendar-header"]?le(x.$slots,"calendar-header",{key:0,day:V,index:ue}):K("",!0),x.$slots["calendar-header"]?K("",!0):(A(),F(be,{key:1},[ca(Le(V),1)],64))],8,Dr)}),128))]),Mr,Ge(Oa,{name:X.value,css:!!x.transitions},{default:he(()=>{var V;return[j.value?(A(),F("div",{key:0,class:"dp__calendar",role:"rowgroup","aria-label":((V=d(C))==null?void 0:V.calendarDays)||void 0,onMouseleave:ie[1]||(ie[1]=ue=>L.value=!1)},[(A(!0),F(be,null,$e(I.value,(ue,ve)=>(A(),F("div",{key:ve,class:"dp__calendar_row",role:"row"},[x.weekNumbers?(A(),F("div",$r,[ce("div",xr,Le(R(ue.days)),1)])):K("",!0),(A(!0),F(be,null,$e(ue.days,(re,Q)=>{var Fe,Ie,ra;return A(),F("div",{id:s(re.value),ref_for:!0,ref:Ye=>n(Ye,ve,Q),key:Q+ve,role:"gridcell",class:"dp__calendar_item","aria-selected":(re.classData.dp__active_date||re.classData.dp__range_start||re.classData.dp__range_start)??void 0,"aria-disabled":re.classData.dp__cell_disabled||void 0,"aria-label":(Ie=(Fe=d(C))==null?void 0:Fe.day)==null?void 0:Ie.call(Fe,re),tabindex:"0",onClick:De(Ye=>fe(Ye,re),["prevent"]),onKeydown:[pe(Ye=>x.$emit("select-date",re),["enter"]),pe(Ye=>x.$emit("handle-space",re),["space"])],onMouseenter:Ye=>$(re,ve,Q),onMouseleave:Ye=>q(re),onMousedown:Ye=>f(re),onMouseup:ie[0]||(ie[0]=Ye=>L.value=!1)},[ce("div",{class:ke(["dp__cell_inner",re.classData])},[x.$slots.day&&ee.value(re)?le(x.$slots,"day",{key:0,day:+re.text,date:re.value}):K("",!0),x.$slots.day?K("",!0):(A(),F(be,{key:1},[ca(Le(re.text),1)],64)),re.marker&&ee.value(re)?(A(),F(be,{key:2},[x.$slots.marker?le(x.$slots,"marker",{key:0,marker:re.marker,day:+re.text,date:re.value}):(A(),F("div",{key:1,class:ke(ne.value(re.marker)),style:Qe(re.marker.color?{backgroundColor:re.marker.color}:{})},null,6))],64)):K("",!0),S.value(re.value)?(A(),F("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:k,class:"dp__marker_tooltip",style:Qe(P.value)},[(ra=re.marker)!=null&&ra.tooltip?(A(),F("div",{key:0,class:"dp__tooltip_content",onClick:Ae},[(A(!0),F(be,null,$e(re.marker.tooltip,(Ye,_a)=>(A(),F("div",{key:_a,class:"dp__tooltip_text"},[x.$slots["marker-tooltip"]?le(x.$slots,"marker-tooltip",{key:0,tooltip:Ye,day:re.value}):K("",!0),x.$slots["marker-tooltip"]?K("",!0):(A(),F(be,{key:1},[ce("div",{class:"dp__tooltip_mark",style:Qe(Ye.color?{backgroundColor:Ye.color}:{})},null,4),ce("div",null,Le(Ye.text),1)],64))]))),128)),ce("div",{class:"dp__arrow_bottom_tp",style:Qe(Y.value)},null,4)])):K("",!0)],4)):K("",!0)],2)],40,Cr)}),128))]))),128))],40,Tr)):K("",!0)]}),_:3},8,["name","css"])],10,wr)],2)}}}),el=e=>Array.isArray(e),Rr=(e,a,o,l)=>{const t=U([]),v=U(new Date),{modelValue:i,calendars:c,time:C}=ja(e,a),{defaultedMultiCalendars:T,defaultedStartTime:g,defaultedRange:p,defaultedTz:b,propDates:P,defaultedMultiDates:D}=xe(e),{validateMonthYearInRange:M,isDisabled:j,isDateRangeAllowed:X,checkMinMaxRange:J}=ba(e),{updateTimeValues:k,getSetDateTime:Y,setTime:L,assignStartTime:I,validateTime:O,disabledTimesConfig:W}=xl(e,C,i,l),Z=H(()=>h=>c.value[h]?c.value[h].month:0),ae=H(()=>h=>c.value[h]?c.value[h].year:0),ne=(h,G,oe)=>{var me,E;c.value[h]||(c.value[h]={month:0,year:0}),c.value[h].month=Jt(G)?(me=c.value[h])==null?void 0:me.month:G,c.value[h].year=Jt(oe)?(E=c.value[h])==null?void 0:E.year:oe},S=()=>{e.autoApply&&a("select-date")};ha(i,(h,G)=>{JSON.stringify(h)!==JSON.stringify(G)&&s()},{deep:!0}),qe(()=>{e.shadow||(i.value||(R(),g.value&&I(g.value)),s(!0),e.focusStartDate&&e.startDate&&R())});const B=H(()=>{var h;return(h=e.flow)!=null&&h.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),ee=()=>{e.autoApply&&B.value&&a("auto-apply")},s=(h=!1)=>{if(i.value)return Array.isArray(i.value)?(t.value=i.value,_(h)):q(i.value,h);if(T.value.count&&h&&!e.startDate)return $(N(),h)},u=()=>Array.isArray(i.value)&&p.value.enabled?ge(i.value[0])===ge(i.value[1]??i.value[0]):!1,$=(h,G=!1)=>{if((!T.value.count||!T.value.static||G)&&ne(0,ge(h),ye(h)),T.value.count&&(!T.value.solo||!i.value||u()))for(let oe=1;oe<T.value.count;oe++){const me=Me(N(),{month:Z.value(oe-1),year:ae.value(oe-1)}),E=nl(me,{months:1});c.value[oe]={month:ge(E),year:ye(E)}}},q=(h,G)=>{$(h),L("hours",Ue(h)),L("minutes",na(h)),L("seconds",Ra(h)),T.value.count&&G&&w()},te=h=>{if(T.value.count){if(T.value.solo)return 0;const G=ge(h[0]),oe=ge(h[1]);return Math.abs(oe-G)<T.value.count?0:1}return 1},z=(h,G)=>{h[1]&&p.value.showLastInRange?$(h[te(h)],G):$(h[0],G);const oe=(me,E)=>[me(h[0]),h[1]?me(h[1]):C[E][1]];L("hours",oe(Ue,"hours")),L("minutes",oe(na,"minutes")),L("seconds",oe(Ra,"seconds"))},y=(h,G)=>{if((p.value.enabled||e.weekPicker)&&!D.value.enabled)return z(h,G);if(D.value.enabled&&G){const oe=h[h.length-1];return q(oe,G)}},_=h=>{const G=i.value;y(G,h),T.value.count&&T.value.solo&&w()},n=(h,G)=>{const oe=Me(N(),{month:Z.value(G),year:ae.value(G)}),me=h<0?Da(oe,1):Ha(oe,1);M(ge(me),ye(me),h<0,e.preventMinMaxNavigation)&&(ne(G,ge(me),ye(me)),a("update-month-year",{instance:G,month:ge(me),year:ye(me)}),T.value.count&&!T.value.solo&&r(G),o())},r=h=>{for(let G=h-1;G>=0;G--){const oe=Ha(Me(N(),{month:Z.value(G+1),year:ae.value(G+1)}),1);ne(G,ge(oe),ye(oe))}for(let G=h+1;G<=T.value.count-1;G++){const oe=Da(Me(N(),{month:Z.value(G-1),year:ae.value(G-1)}),1);ne(G,ge(oe),ye(oe))}},w=()=>{if(Array.isArray(i.value)&&i.value.length===2){const h=N(N(i.value[1]?i.value[1]:Da(i.value[0],1))),[G,oe]=[ge(i.value[0]),ye(i.value[0])],[me,E]=[ge(i.value[1]),ye(i.value[1])];(G!==me||G===me&&oe!==E)&&T.value.solo&&ne(1,ge(h),ye(h))}else i.value&&!Array.isArray(i.value)&&(ne(0,ge(i.value),ye(i.value)),$(N()))},R=()=>{e.startDate&&(ne(0,ge(N(e.startDate)),ye(N(e.startDate))),T.value.count&&r(0))},fe=(h,G)=>{if(e.monthChangeOnScroll){const oe=new Date().getTime()-v.value.getTime(),me=Math.abs(h.deltaY);let E=500;me>1&&(E=100),me>100&&(E=0),oe>E&&(v.value=new Date,n(e.monthChangeOnScroll!=="inverse"?-h.deltaY:h.deltaY,G))}},Ae=(h,G,oe=!1)=>{e.monthChangeOnArrows&&e.vertical===oe&&f(h,G)},f=(h,G)=>{n(h==="right"?-1:1,G)},x=h=>{if(P.value.markers)return at(h.value,P.value.markers)},ie=(h,G)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[h==0,!0];case"fair":return[h==0||G>h,!0];case"append":return[!1,!1];default:return[!1,!1]}},m=(h,G,oe,me)=>{if(e.sixWeeks&&h.length<6){const E=6-h.length,se=(G.getDay()+7-me)%7,de=6-(oe.getDay()+7-me)%7,[oa,ea]=ie(se,de);for(let wa=1;wa<=E;wa++)if(ea?!!(wa%2)==oa:oa){const va=h[0].days[0],mt=V(Aa(va.value,-7),ge(G));h.unshift({days:mt})}else{const va=h[h.length-1],mt=va.days[va.days.length-1],Sl=V(Aa(mt.value,1),ge(G));h.push({days:Sl})}}return h},V=(h,G)=>{const oe=N(h),me=[];for(let E=0;E<7;E++){const se=Aa(oe,E),de=ge(se)!==G;me.push({text:e.hideOffsetDates&&de?"":se.getDate(),value:se,current:!de,classData:{}})}return me},ue=(h,G)=>{const oe=[],me=new Date(G,h),E=new Date(G,h+1,0),se=e.weekStart,de=ll(me,{weekStartsOn:se}),oa=ea=>{const wa=V(ea,h);if(oe.push({days:wa}),!oe[oe.length-1].days.some(va=>_e(je(va.value),je(E)))){const va=Aa(ea,7);oa(va)}};return oa(de),m(oe,me,E,se)},ve=h=>{const G=fa(N(h.value),C.hours,C.minutes,_a());a("date-update",G),D.value.enabled?Lt(G,i,D.value.limit):i.value=G,l(),da().then(()=>{ee()})},re=h=>p.value.noDisabledRange?fl(t.value[0],h).some(G=>j(G)):!1,Q=()=>{t.value=i.value?i.value.slice():[],t.value.length===2&&!(p.value.fixedStart||p.value.fixedEnd)&&(t.value=[])},Fe=(h,G)=>{const oe=[N(h.value),Aa(N(h.value),+p.value.autoRange)];X(oe)?(G&&Ie(h.value),t.value=oe):a("invalid-date",h.value)},Ie=h=>{const G=ge(N(h)),oe=ye(N(h));if(ne(0,G,oe),T.value.count>0)for(let me=1;me<T.value.count;me++){const E=on(Me(N(h),{year:Z.value(me-1),month:ae.value(me-1)}));ne(me,E.month,E.year)}},ra=h=>{if(re(h.value)||!J(h.value,i.value,p.value.fixedStart?0:1))return a("invalid-date",h.value);t.value=Ml(N(h.value),i,a,p)},Ye=(h,G)=>{if(Q(),p.value.autoRange)return Fe(h,G);if(p.value.fixedStart||p.value.fixedEnd)return ra(h);t.value[0]?J(N(h.value),i.value)&&!re(h.value)?Ce(N(h.value),N(t.value[0]))?(t.value.unshift(N(h.value)),a("range-end",t.value[0])):(t.value[1]=N(h.value),a("range-end",t.value[1])):(e.autoApply&&a("auto-apply-invalid",h.value),a("invalid-date",h.value)):(t.value[0]=N(h.value),a("range-start",t.value[0]))},_a=(h=!0)=>e.enableSeconds?Array.isArray(C.seconds)?h?C.seconds[0]:C.seconds[1]:C.seconds:0,Na=h=>{t.value[h]=fa(t.value[h],C.hours[h],C.minutes[h],_a(h!==1))},Ba=()=>{var h,G;t.value[0]&&t.value[1]&&+((h=t.value)==null?void 0:h[0])>+((G=t.value)==null?void 0:G[1])&&(t.value.reverse(),a("range-start",t.value[0]),a("range-end",t.value[1]))},We=()=>{t.value.length&&(t.value[0]&&!t.value[1]?Na(0):(Na(0),Na(1),l()),Ba(),i.value=t.value.slice(),it(t.value,a,e.autoApply,e.modelAuto))},st=(h,G=!1)=>{if(j(h.value)||!h.current&&e.hideOffsetDates)return a("invalid-date",h.value);if(!p.value.enabled)return ve(h);el(C.hours)&&el(C.minutes)&&!D.value.enabled&&(Ye(h,G),We())},dt=(h,G)=>{var oe;ne(h,G.month,G.year),T.value.count&&!T.value.solo&&r(h),a("update-month-year",{instance:h,month:G.month,year:G.year}),o(T.value.solo?h:void 0);const me=(oe=e.flow)!=null&&oe.length?e.flow[e.flowStep]:void 0;!G.fromNav&&(me===aa.month||me===aa.year)&&l()},Ga=(h,G)=>{Dl({value:h,modelValue:i,range:p.value.enabled,timezone:G?void 0:b.value.timezone}),S(),e.multiCalendars&&da().then(()=>s(!0))},ct=()=>{p.value.enabled?i.value&&Array.isArray(i.value)&&i.value[0]?i.value=Ce(N(),i.value[0])?[N(),i.value[0]]:[i.value[0],N()]:i.value=[N()]:i.value=N(),S()},vt=()=>{if(Array.isArray(i.value))if(D.value.enabled){const h=pt();i.value[i.value.length-1]=Y(h)}else i.value=i.value.map((h,G)=>h&&Y(h,G));else i.value=Y(i.value);a("time-update")},pt=()=>Array.isArray(i.value)&&i.value.length?i.value[i.value.length-1]:null;return{calendars:c,modelValue:i,month:Z,year:ae,time:C,disabledTimesConfig:W,validateTime:O,getCalendarDays:ue,getMarker:x,handleScroll:fe,handleSwipe:f,handleArrow:Ae,selectDate:st,updateMonthYear:dt,presetDate:Ga,selectCurrentDate:ct,updateTime:(h,G=!0,oe=!1)=>{k(h,G,oe,vt)}}},Pr={key:0},Yr=Ve({__name:"DatePicker",props:{...Ze},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:a,emit:o}){const l=o,t=e,{calendars:v,month:i,year:c,modelValue:C,time:T,disabledTimesConfig:g,validateTime:p,getCalendarDays:b,getMarker:P,handleArrow:D,handleScroll:M,handleSwipe:j,selectDate:X,updateMonthYear:J,presetDate:k,selectCurrentDate:Y,updateTime:L}=Rr(t,l,te,z),I=$a(),{setHoverDate:O,getDayClassData:W,clearHoverDate:Z}=In(C,t),{defaultedMultiCalendars:ae}=xe(t),ne=U([]),S=U([]),B=U(null),ee=Ke(I,"calendar"),s=Ke(I,"monthYear"),u=Ke(I,"timePicker"),$=_=>{t.shadow||l("mount",_)};ha(v,()=>{t.shadow||setTimeout(()=>{l("recalculate-position")},0)},{deep:!0});const q=H(()=>_=>b(i.value(_),c.value(_)).map(n=>({...n,days:n.days.map(r=>(r.marker=P(r),r.classData=W(r),r))})));function te(_){var n;_||_===0?(n=S.value[_])==null||n.triggerTransition(i.value(_),c.value(_)):S.value.forEach((r,w)=>r.triggerTransition(i.value(w),c.value(w)))}function z(){l("update-flow-step")}const y=(_,n=!1)=>{X(_,n),t.spaceConfirm&&l("select-date")};return a({clearHoverDate:Z,presetDate:k,selectCurrentDate:Y,toggleMonthPicker:(_,n,r=0)=>{var w;(w=ne.value[r])==null||w.toggleMonthPicker(_,n)},toggleYearPicker:(_,n,r=0)=>{var w;(w=ne.value[r])==null||w.toggleYearPicker(_,n)},toggleTimePicker:(_,n,r)=>{var w;(w=B.value)==null||w.toggleTimePicker(_,n,r)},handleArrow:D,updateMonthYear:J,getSidebarProps:()=>({modelValue:C,month:i,year:c,time:T,updateTime:L,updateMonthYear:J,selectDate:X,presetDate:k})}),(_,n)=>(A(),F(be,null,[Ge(ut,{"multi-calendars":d(ae).count,collapse:_.collapse},{default:he(({instance:r,index:w})=>[_.disableMonthYearSelect?K("",!0):(A(),we(_r,Be({key:0,ref:R=>{R&&(ne.value[w]=R)},months:d(dl)(_.formatLocale,_.locale,_.monthNameFormat),years:d(Nt)(_.yearRange,_.locale,_.reverseYears),month:d(i)(r),year:d(c)(r),instance:r},_.$props,{onMount:n[0]||(n[0]=R=>$(d(Ta).header)),onResetFlow:n[1]||(n[1]=R=>_.$emit("reset-flow")),onUpdateMonthYear:R=>d(J)(r,R),onOverlayClosed:n[2]||(n[2]=R=>_.$emit("focus-menu"))}),ze({_:2},[$e(d(s),(R,fe)=>({name:R,fn:he(Ae=>[le(_.$slots,R,Pe(He(Ae)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ge(Sr,Be({ref:R=>{R&&(S.value[w]=R)},"mapped-dates":q.value(r),month:d(i)(r),year:d(c)(r),instance:r},_.$props,{onSelectDate:R=>d(X)(R,r!==1),onHandleSpace:R=>y(R,r!==1),onSetHoverDate:n[3]||(n[3]=R=>d(O)(R)),onHandleScroll:R=>d(M)(R,r),onHandleSwipe:R=>d(j)(R,r),onMount:n[4]||(n[4]=R=>$(d(Ta).calendar)),onResetFlow:n[5]||(n[5]=R=>_.$emit("reset-flow")),onTooltipOpen:n[6]||(n[6]=R=>_.$emit("tooltip-open",R)),onTooltipClose:n[7]||(n[7]=R=>_.$emit("tooltip-close",R))}),ze({_:2},[$e(d(ee),(R,fe)=>({name:R,fn:he(Ae=>[le(_.$slots,R,Pe(He({...Ae})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),_.enableTimePicker?(A(),F("div",Pr,[_.$slots["time-picker"]?le(_.$slots,"time-picker",Pe(Be({key:0},{time:d(T),updateTime:d(L)}))):(A(),we($l,Be({key:1,ref_key:"timePickerRef",ref:B},_.$props,{hours:d(T).hours,minutes:d(T).minutes,seconds:d(T).seconds,"internal-model-value":_.internalModelValue,"disabled-times-config":d(g),"validate-time":d(p),onMount:n[8]||(n[8]=r=>$(d(Ta).timePicker)),"onUpdate:hours":n[9]||(n[9]=r=>d(L)(r)),"onUpdate:minutes":n[10]||(n[10]=r=>d(L)(r,!1)),"onUpdate:seconds":n[11]||(n[11]=r=>d(L)(r,!1,!0)),onResetFlow:n[12]||(n[12]=r=>_.$emit("reset-flow")),onOverlayClosed:n[13]||(n[13]=r=>_.$emit("time-picker-close")),onOverlayOpened:n[14]||(n[14]=r=>_.$emit("time-picker-open",r)),onAmPmChange:n[15]||(n[15]=r=>_.$emit("am-pm-change",r))}),ze({_:2},[$e(d(u),(r,w)=>({name:r,fn:he(R=>[le(_.$slots,r,Pe(He(R)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):K("",!0)],64))}}),Or=(e,a)=>{const o=U(),{defaultedMultiCalendars:l,defaultedConfig:t,defaultedHighlight:v,defaultedRange:i,propDates:c,defaultedFilters:C,defaultedMultiDates:T}=xe(e),{modelValue:g,year:p,month:b,calendars:P}=ja(e,a),{isDisabled:D}=ba(e),{selectYear:M,groupedYears:j,showYearPicker:X,isDisabled:J,toggleYearPicker:k,handleYearSelect:Y,handleYear:L}=Tl({modelValue:g,multiCalendars:l,highlight:v,calendars:P,propDates:c,month:b,year:p,filters:C,props:e,emit:a}),I=(s,u)=>[s,u].map($=>la($,"MMMM",{locale:e.formatLocale})).join("-"),O=H(()=>s=>g.value?Array.isArray(g.value)?g.value.some(u=>qt(s,u)):qt(g.value,s):!1),W=s=>{if(i.value.enabled){if(Array.isArray(g.value)){const u=_e(s,g.value[0])||_e(s,g.value[1]);return nt(g.value,o.value,s)&&!u}return!1}return!1},Z=(s,u)=>s.quarter===jt(u)&&s.year===ye(u),ae=s=>typeof v.value=="function"?v.value({quarter:jt(s),year:ye(s)}):!!v.value.quarters.find(u=>Z(u,s)),ne=H(()=>s=>{const u=Me(new Date,{year:p.value(s)});return Ll({start:Fl(u),end:Hl(u)}).map($=>{const q=zl($),te=Kt($),z=D($),y=W(q),_=ae(q);return{text:I(q,te),value:q,active:O.value(q),highlighted:_,disabled:z,isBetween:y}})}),S=s=>{Lt(s,g,T.value.limit),a("auto-apply",!0)},B=s=>{g.value=Ft(g,s,a),it(g.value,a,e.autoApply,e.modelAuto)},ee=s=>{g.value=s,a("auto-apply")};return{defaultedConfig:t,defaultedMultiCalendars:l,groupedYears:j,year:p,isDisabled:J,quarters:ne,showYearPicker:X,modelValue:g,setHoverDate:s=>{o.value=s},selectYear:M,selectQuarter:(s,u,$)=>{if(!$)return P.value[u].month=ge(Kt(s)),T.value.enabled?S(s):i.value.enabled?B(s):ee(s)},toggleYearPicker:k,handleYearSelect:Y,handleYear:L}},Ir={class:"dp--quarter-items"},Nr=["disabled","onClick","onMouseover"],Br=Ve({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...Ze},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=$a(),i=Ke(v,"yearMode"),{defaultedMultiCalendars:c,defaultedConfig:C,groupedYears:T,year:g,isDisabled:p,quarters:b,modelValue:P,showYearPicker:D,setHoverDate:M,selectQuarter:j,toggleYearPicker:X,handleYearSelect:J,handleYear:k}=Or(t,l);return a({getSidebarProps:()=>({modelValue:P,year:g,selectQuarter:j,handleYearSelect:J,handleYear:k})}),(Y,L)=>(A(),we(ut,{"multi-calendars":d(c).count,collapse:Y.collapse,stretch:""},{default:he(({instance:I})=>[ce("div",{class:"dp-quarter-picker-wrap",style:Qe({minHeight:`${d(C).modeHeight}px`})},[ce("div",null,[Ge(Al,Be(Y.$props,{items:d(T)(I),instance:I,"show-year-picker":d(D)[I],year:d(g)(I),"is-disabled":O=>d(p)(I,O),onHandleYear:O=>d(k)(I,O),onYearSelect:O=>d(J)(O,I),onToggleYearPicker:O=>d(X)(I,O==null?void 0:O.flow,O==null?void 0:O.show)}),ze({_:2},[$e(d(i),(O,W)=>({name:O,fn:he(Z=>[le(Y.$slots,O,Pe(He(Z)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),ce("div",Ir,[(A(!0),F(be,null,$e(d(b)(I),(O,W)=>(A(),F("div",{key:W},[ce("button",{type:"button",class:ke(["dp--qr-btn",{"dp--qr-btn-active":O.active,"dp--qr-btn-between":O.isBetween,"dp--qr-btn-disabled":O.disabled,"dp--highlighted":O.highlighted}]),disabled:O.disabled,onClick:Z=>d(j)(O.value,I,O.disabled),onMouseover:Z=>d(M)(O.value)},[Y.$slots.quarter?le(Y.$slots,"quarter",{key:0,value:O.value,text:O.text}):(A(),F(be,{key:1},[ca(Le(O.text),1)],64))],42,Nr)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),Vr=["id","aria-label"],Er={key:0,class:"dp--menu-load-container"},Lr=ce("span",{class:"dp--menu-loader"},null,-1),Fr=[Lr],Hr={key:0,class:"dp__sidebar_left"},zr=["onClick","onKeydown"],qr={key:2,class:"dp__sidebar_right"},Kr={key:3,class:"dp__action_extra"},al=Ve({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...ot,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=U(null),i=H(()=>{const{openOnTop:m,...V}=t;return{...V,flowStep:W.value,collapse:t.collapse,noOverlayFocus:t.noOverlayFocus,menuWrapRef:v.value}}),{setMenuFocused:c,setShiftKey:C,control:T}=wl(),g=$a(),{defaultedTextInput:p,defaultedInline:b,defaultedConfig:P}=xe(t),D=U(null),M=U(0),j=U(null),X=U(!1),J=U(null);qe(()=>{if(!t.shadow){X.value=!0,k(),window.addEventListener("resize",k);const m=Oe(v);if(m&&!p.value.enabled&&!b.value.enabled&&(c(!0),B()),m){const V=ue=>{P.value.allowPreventDefault&&ue.preventDefault(),ya(ue,P.value,!0)};m.addEventListener("pointerdown",V),m.addEventListener("mousedown",V)}}}),tt(()=>{window.removeEventListener("resize",k)});const k=()=>{const m=Oe(j);m&&(M.value=m.getBoundingClientRect().width)},{arrowRight:Y,arrowLeft:L,arrowDown:I,arrowUp:O}=ga(),{flowStep:W,updateFlowStep:Z,childMount:ae,resetFlow:ne}=Nn(t,l,J),S=H(()=>t.monthPicker?Un:t.yearPicker?er:t.timePicker?hr:t.quarterPicker?Br:Yr),B=()=>{const m=Oe(v);m&&m.focus({preventScroll:!0})},ee=H(()=>{var m;return((m=J.value)==null?void 0:m.getSidebarProps())||{}}),s=()=>{t.openOnTop&&l("recalculate-position")},u=Ke(g,"action"),$=H(()=>t.monthPicker||t.yearPicker?Ke(g,"monthYear"):t.timePicker?Ke(g,"timePicker"):Ke(g,"shared")),q=H(()=>t.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),te=H(()=>({dp__menu_disabled:t.disabled,dp__menu_readonly:t.readonly,"dp-menu-loading":t.loading})),z=H(()=>({dp__menu:!0,dp__menu_index:!b.value.enabled,dp__relative:b.value.enabled,[t.menuClassName]:!!t.menuClassName})),y=m=>{ya(m,P.value,!0)},_=()=>{t.escClose&&l("close-picker")},n=m=>{if(t.arrowNavigation){if(m==="up")return O();if(m==="down")return I();if(m==="left")return L();if(m==="right")return Y()}else m==="left"||m==="up"?Ae("handleArrow","left",0,m==="up"):Ae("handleArrow","right",0,m==="down")},r=m=>{C(m.shiftKey),!t.disableMonthYearSelect&&m.code==="Tab"&&m.target.classList.contains("dp__menu")&&T.value.shiftKeyInMenu&&(m.preventDefault(),ya(m,P.value,!0),l("close-picker"))},w=()=>{B(),l("time-picker-close")},R=m=>{var V,ue,ve;(V=J.value)==null||V.toggleTimePicker(!1,!1),(ue=J.value)==null||ue.toggleMonthPicker(!1,!1,m),(ve=J.value)==null||ve.toggleYearPicker(!1,!1,m)},fe=(m,V=0)=>{var ue,ve,re;return m==="month"?(ue=J.value)==null?void 0:ue.toggleMonthPicker(!1,!0,V):m==="year"?(ve=J.value)==null?void 0:ve.toggleYearPicker(!1,!0,V):m==="time"?(re=J.value)==null?void 0:re.toggleTimePicker(!0,!1):R(V)},Ae=(m,...V)=>{var ue,ve;(ue=J.value)!=null&&ue[m]&&((ve=J.value)==null||ve[m](...V))},f=()=>{Ae("selectCurrentDate")},x=(m,V)=>{Ae("presetDate",m,V)},ie=()=>{Ae("clearHoverDate")};return a({updateMonthYear:(m,V)=>{Ae("updateMonthYear",m,V)},switchView:fe}),(m,V)=>{var ue,ve,re;return A(),F("div",{id:m.uid?`dp-menu-${m.uid}`:void 0,ref_key:"dpMenuRef",ref:v,tabindex:"0",role:"dialog","aria-label":(ue=m.ariaLabels)==null?void 0:ue.menu,class:ke(z.value),onMouseleave:ie,onClick:y,onKeydown:[pe(_,["esc"]),V[18]||(V[18]=pe(De(Q=>n("left"),["prevent"]),["left"])),V[19]||(V[19]=pe(De(Q=>n("up"),["prevent"]),["up"])),V[20]||(V[20]=pe(De(Q=>n("down"),["prevent"]),["down"])),V[21]||(V[21]=pe(De(Q=>n("right"),["prevent"]),["right"])),r]},[(m.disabled||m.readonly)&&d(b).enabled||m.loading?(A(),F("div",{key:0,class:ke(te.value)},[m.loading?(A(),F("div",Er,Fr)):K("",!0)],2)):K("",!0),!d(b).enabled&&!m.teleportCenter?(A(),F("div",{key:1,class:ke(q.value)},null,2)):K("",!0),ce("div",{ref_key:"innerMenuRef",ref:j,class:ke({dp__menu_content_wrapper:((ve=m.presetDates)==null?void 0:ve.length)||!!m.$slots["left-sidebar"]||!!m.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&((re=m.presetDates)==null?void 0:re.length)||!!m.$slots["left-sidebar"]||!!m.$slots["right-sidebar"]}),style:Qe({"--dp-menu-width":`${M.value}px`})},[m.$slots["left-sidebar"]?(A(),F("div",Hr,[le(m.$slots,"left-sidebar",Pe(He(ee.value)))])):K("",!0),m.presetDates.length?(A(),F("div",{key:1,class:ke({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[(A(!0),F(be,null,$e(m.presetDates,(Q,Fe)=>(A(),F(be,{key:Fe},[Q.slot?le(m.$slots,Q.slot,{key:0,presetDate:x,label:Q.label,value:Q.value}):(A(),F("button",{key:1,type:"button",style:Qe(Q.style||{}),class:ke(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),onClick:De(Ie=>x(Q.value,Q.noTz),["prevent"]),onKeydown:[pe(De(Ie=>x(Q.value,Q.noTz),["prevent"]),["enter"]),pe(De(Ie=>x(Q.value,Q.noTz),["prevent"]),["space"])]},Le(Q.label),47,zr))],64))),128))],2)):K("",!0),ce("div",{ref_key:"calendarWrapperRef",ref:D,class:"dp__instance_calendar",role:"document"},[(A(),we(lt(S.value),Be({ref_key:"dynCmpRef",ref:J},i.value,{"flow-step":d(W),onMount:d(ae),onUpdateFlowStep:d(Z),onResetFlow:d(ne),onFocusMenu:B,onSelectDate:V[0]||(V[0]=Q=>m.$emit("select-date")),onDateUpdate:V[1]||(V[1]=Q=>m.$emit("date-update",Q)),onTooltipOpen:V[2]||(V[2]=Q=>m.$emit("tooltip-open",Q)),onTooltipClose:V[3]||(V[3]=Q=>m.$emit("tooltip-close",Q)),onAutoApply:V[4]||(V[4]=Q=>m.$emit("auto-apply",Q)),onRangeStart:V[5]||(V[5]=Q=>m.$emit("range-start",Q)),onRangeEnd:V[6]||(V[6]=Q=>m.$emit("range-end",Q)),onInvalidFixedRange:V[7]||(V[7]=Q=>m.$emit("invalid-fixed-range",Q)),onTimeUpdate:V[8]||(V[8]=Q=>m.$emit("time-update")),onAmPmChange:V[9]||(V[9]=Q=>m.$emit("am-pm-change",Q)),onTimePickerOpen:V[10]||(V[10]=Q=>m.$emit("time-picker-open",Q)),onTimePickerClose:w,onRecalculatePosition:s,onUpdateMonthYear:V[11]||(V[11]=Q=>m.$emit("update-month-year",Q)),onAutoApplyInvalid:V[12]||(V[12]=Q=>m.$emit("auto-apply-invalid",Q)),onInvalidDate:V[13]||(V[13]=Q=>m.$emit("invalid-date",Q)),"onUpdate:internalModelValue":V[14]||(V[14]=Q=>m.$emit("update:internal-model-value",Q))}),ze({_:2},[$e($.value,(Q,Fe)=>({name:Q,fn:he(Ie=>[le(m.$slots,Q,Pe(He({...Ie})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),m.$slots["right-sidebar"]?(A(),F("div",qr,[le(m.$slots,"right-sidebar",Pe(He(ee.value)))])):K("",!0),m.$slots["action-extra"]?(A(),F("div",Kr,[m.$slots["action-extra"]?le(m.$slots,"action-extra",{key:0,selectCurrentDate:f}):K("",!0)])):K("",!0)],6),!m.autoApply||d(P).keepActionRow?(A(),we(zn,Be({key:2,"menu-mount":X.value},i.value,{"calendar-width":M.value,onClosePicker:V[15]||(V[15]=Q=>m.$emit("close-picker")),onSelectDate:V[16]||(V[16]=Q=>m.$emit("select-date")),onInvalidSelect:V[17]||(V[17]=Q=>m.$emit("invalid-select")),onSelectNow:f}),ze({_:2},[$e(d(u),(Q,Fe)=>({name:Q,fn:he(Ie=>[le(m.$slots,Q,Pe(He({...Ie})))])}))]),1040,["menu-mount","calendar-width"])):K("",!0)],42,Vr)}}}),jr=typeof window<"u"?window:void 0,Mt=()=>{},Wr=e=>Ol()?(Il(e),!0):!1,Gr=(e,a,o,l)=>{if(!e)return Mt;let t=Mt;const v=ha(()=>d(e),c=>{t(),c&&(c.addEventListener(a,o,l),t=()=>{c.removeEventListener(a,o,l),t=Mt})},{immediate:!0,flush:"post"}),i=()=>{v(),t()};return Wr(i),i},Jr=(e,a,o,l={})=>{const{window:t=jr,event:v="pointerdown"}=l;return t?Gr(t,v,i=>{const c=Oe(e),C=Oe(a);!c||!C||c===i.target||i.composedPath().includes(c)||i.composedPath().includes(C)||o(i)},{passive:!0}):void 0},Xr=Ve({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...ot},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date"],setup(e,{expose:a,emit:o}){const l=o,t=e,v=$a(),i=U(!1),c=et(t,"modelValue"),C=et(t,"timezone"),T=U(null),g=U(null),p=U(null),b=U(!1),P=U(null),D=U(!1),M=U(!1),j=U(!1),{setMenuFocused:X,setShiftKey:J}=wl(),{clearArrowNav:k}=ga(),{validateDate:Y,isValidTime:L}=ba(t),{defaultedTransitions:I,defaultedTextInput:O,defaultedInline:W,defaultedConfig:Z,defaultedRange:ae,defaultedMultiDates:ne}=xe(t),{menuTransition:S,showTransition:B}=Ka(I);qe(()=>{r(t.modelValue),da().then(()=>{if(!W.value.enabled){const E=z(P.value);E==null||E.addEventListener("scroll",V),window==null||window.addEventListener("resize",ue)}}),W.value.enabled&&(i.value=!0),window==null||window.addEventListener("keyup",ve),window==null||window.addEventListener("keydown",re)}),tt(()=>{if(!W.value.enabled){const E=z(P.value);E==null||E.removeEventListener("scroll",V),window==null||window.removeEventListener("resize",ue)}window==null||window.removeEventListener("keyup",ve),window==null||window.removeEventListener("keydown",re)});const ee=Ke(v,"all",t.presetDates),s=Ke(v,"input");ha([c,C],()=>{r(c.value)},{deep:!0});const{openOnTop:u,menuStyle:$,xCorrect:q,setMenuPosition:te,getScrollableParent:z,shadowRender:y}=Pn({menuRef:T,menuRefInner:g,inputRef:p,pickerWrapperRef:P,inline:W,emit:l,props:t,slots:v}),{inputValue:_,internalModelValue:n,parseExternalModelValue:r,emitModelValue:w,formatInputValue:R,checkBeforeEmit:fe}=Sn(l,t,b),Ae=H(()=>({dp__main:!0,dp__theme_dark:t.dark,dp__theme_light:!t.dark,dp__flex_display:W.value.enabled,"dp--flex-display-collapsed":j.value,dp__flex_display_with_input:W.value.input})),f=H(()=>t.dark?"dp__theme_dark":"dp__theme_light"),x=H(()=>({to:typeof t.teleport=="boolean"?"body":t.teleport,disabled:!t.teleport||W.value.enabled})),ie=H(()=>({class:"dp__outer_menu_wrap"})),m=H(()=>W.value.enabled&&(t.timePicker||t.monthPicker||t.yearPicker||t.quarterPicker)),V=()=>{i.value&&(Z.value.closeOnScroll?We():te())},ue=()=>{var E;i.value&&te();const se=(E=g.value)==null?void 0:E.$el.getBoundingClientRect().width;j.value=document.body.offsetWidth<=se},ve=E=>{E.key==="Tab"&&!W.value.enabled&&!t.teleport&&Z.value.tabOutClosesMenu&&(P.value.contains(document.activeElement)||We()),M.value=E.shiftKey},re=E=>{M.value=E.shiftKey},Q=()=>{!t.disabled&&!t.readonly&&(y(al,t),te(!1),i.value=!0,i.value&&l("open"),i.value||Ba(),r(t.modelValue))},Fe=()=>{var E;_.value="",Ba(),(E=p.value)==null||E.setParsedDate(null),l("update:model-value",null),l("update:model-timezone-value",null),l("cleared"),Z.value.closeOnClearValue&&We()},Ie=()=>{const E=n.value;return!E||!Array.isArray(E)&&Y(E)?!0:Array.isArray(E)?ne.value.enabled||E.length===2&&Y(E[0])&&Y(E[1])?!0:ae.value.partialRange&&!t.timePicker?Y(E[0]):!1:!1},ra=()=>{fe()&&Ie()?(w(),We()):l("invalid-select",n.value)},Ye=E=>{_a(),w(),Z.value.closeOnAutoApply&&!E&&We()},_a=()=>{p.value&&O.value.enabled&&p.value.setParsedDate(n.value)},Na=(E=!1)=>{t.autoApply&&L(n.value)&&Ie()&&(ae.value.enabled&&Array.isArray(n.value)?(ae.value.partialRange||n.value.length===2)&&Ye(E):Ye(E))},Ba=()=>{O.value.enabled||(n.value=null)},We=()=>{W.value.enabled||(i.value&&(i.value=!1,q.value=!1,X(!1),J(!1),k(),l("closed"),_.value&&r(c.value)),Ba(),l("blur"))},st=(E,se,de=!1)=>{if(!E){n.value=null;return}const oa=Array.isArray(E)?!E.some(wa=>!Y(wa)):Y(E),ea=L(E);oa&&ea&&(n.value=E,se&&(D.value=de,ra(),l("text-submit")))},dt=()=>{t.autoApply&&L(n.value)&&w(),_a()},Ga=()=>i.value?We():Q(),ct=E=>{n.value=E},vt=()=>{O.value.enabled&&(b.value=!0,R()),l("focus")},pt=()=>{if(O.value.enabled&&(b.value=!1,r(t.modelValue),D.value)){const E=an(P.value,M.value);E==null||E.focus()}l("blur")},h=E=>{g.value&&g.value.updateMonthYear(0,{month:Gt(E.month),year:Gt(E.year)})},G=E=>{r(E??t.modelValue)},oe=(E,se)=>{var de;(de=g.value)==null||de.switchView(E,se)},me=E=>Z.value.onClickOutside?Z.value.onClickOutside(E):We();return Jr(T,p,()=>me(Ie)),a({closeMenu:We,selectDate:ra,clearValue:Fe,openMenu:Q,onScroll:V,formatInputValue:R,updateInternalModelValue:ct,setMonthYear:h,parseModel:G,switchView:oe,toggleMenu:Ga}),(E,se)=>(A(),F("div",{ref_key:"pickerWrapperRef",ref:P,class:ke(Ae.value),"data-datepicker-instance":""},[Ge(Ln,Be({ref_key:"inputRef",ref:p,"input-value":d(_),"onUpdate:inputValue":se[0]||(se[0]=de=>Ht(_)?_.value=de:null),"is-menu-open":i.value},E.$props,{onClear:Fe,onOpen:Q,onSetInputDate:st,onSetEmptyDate:d(w),onSelectDate:ra,onToggle:Ga,onClose:We,onFocus:vt,onBlur:pt,onRealBlur:se[1]||(se[1]=de=>b.value=!1)}),ze({_:2},[$e(d(s),(de,oa)=>({name:de,fn:he(ea=>[le(E.$slots,de,Pe(He(ea)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(A(),we(lt(E.teleport?Rl:"div"),Pe(He(x.value)),{default:he(()=>[Ge(Oa,{name:d(S)(d(u)),css:d(B)&&!d(W).enabled},{default:he(()=>[i.value?(A(),F("div",Be({key:0,ref_key:"dpWrapMenuRef",ref:T},ie.value,{class:{"dp--menu-wrapper":!d(W).enabled},style:d(W).enabled?void 0:d($)}),[Ge(al,Be({ref_key:"dpMenuRef",ref:g},E.$props,{"internal-model-value":d(n),"onUpdate:internalModelValue":se[2]||(se[2]=de=>Ht(n)?n.value=de:null),class:{[f.value]:!0,"dp--menu-wrapper":E.teleport},"open-on-top":d(u),"no-overlay-focus":m.value,collapse:j.value,onClosePicker:We,onSelectDate:ra,onAutoApply:Na,onTimeUpdate:dt,onFlowStep:se[3]||(se[3]=de=>E.$emit("flow-step",de)),onUpdateMonthYear:se[4]||(se[4]=de=>E.$emit("update-month-year",de)),onInvalidSelect:se[5]||(se[5]=de=>E.$emit("invalid-select",d(n))),onAutoApplyInvalid:se[6]||(se[6]=de=>E.$emit("invalid-select",de)),onInvalidFixedRange:se[7]||(se[7]=de=>E.$emit("invalid-fixed-range",de)),onRecalculatePosition:d(te),onTooltipOpen:se[8]||(se[8]=de=>E.$emit("tooltip-open",de)),onTooltipClose:se[9]||(se[9]=de=>E.$emit("tooltip-close",de)),onTimePickerOpen:se[10]||(se[10]=de=>E.$emit("time-picker-open",de)),onTimePickerClose:se[11]||(se[11]=de=>E.$emit("time-picker-close",de)),onAmPmChange:se[12]||(se[12]=de=>E.$emit("am-pm-change",de)),onRangeStart:se[13]||(se[13]=de=>E.$emit("range-start",de)),onRangeEnd:se[14]||(se[14]=de=>E.$emit("range-end",de)),onDateUpdate:se[15]||(se[15]=de=>E.$emit("date-update",de)),onInvalidDate:se[16]||(se[16]=de=>E.$emit("invalid-date",de))}),ze({_:2},[$e(d(ee),(de,oa)=>({name:de,fn:he(ea=>[le(E.$slots,de,Pe(He({...ea})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","onRecalculatePosition"])],16)):K("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),Cl=(()=>{const e=Xr;return e.install=a=>{a.component("Vue3DatePicker",e)},e})(),Qr=Object.freeze(Object.defineProperty({__proto__:null,default:Cl},Symbol.toStringTag,{value:"Module"}));Object.entries(Qr).forEach(([e,a])=>{e!=="default"&&(Cl[e]=a)});export{Cl as O};
